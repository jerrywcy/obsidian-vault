"use strict";const de=require("obsidian");function wt(i,e){const t=Object.keys(e).map(n=>ln(i,n,e[n]));return t.length===1?t[0]:function(){t.forEach(n=>n())}}function ln(i,e,t){const n=i[e],l=i.hasOwnProperty(e);let a=t(n);return n&&Object.setPrototypeOf(a,n),Object.setPrototypeOf(s,a),i[e]=s,o;function s(...c){return a===n&&i[e]===s&&o(),a.apply(this,c)}function o(){i[e]===s&&(l?i[e]=n:delete i[e]),a!==n&&(a=n,Object.setPrototypeOf(s,n||Function))}}function $(){}function Ot(i,e){for(const t in e)i[t]=e[t];return i}function Ii(i){return i()}function zt(){return Object.create(null)}function ge(i){i.forEach(Ii)}function sn(i){return typeof i=="function"}function re(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}function on(i){return Object.keys(i).length===0}function A(i,e){i.appendChild(e)}function F(i,e,t){i.insertBefore(e,t||null)}function H(i){i.parentNode.removeChild(i)}function Ie(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function M(i){return document.createElement(i)}function Ee(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function _e(i){return document.createTextNode(i)}function ee(){return _e(" ")}function ae(){return _e("")}function ie(i,e,t,n){return i.addEventListener(e,t,n),()=>i.removeEventListener(e,t,n)}function pi(i){return function(e){return e.preventDefault(),i.call(this,e)}}function K(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Ut(i,e){const t=Object.getOwnPropertyDescriptors(i.__proto__);for(const n in e)e[n]==null?i.removeAttribute(n):n==="style"?i.style.cssText=e[n]:n==="__value"?i.value=i[n]=e[n]:t[n]&&t[n].set?i[n]=e[n]:K(i,n,e[n])}function cn(i){return Array.from(i.childNodes)}function Me(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function Jt(i,e){i.value=e==null?"":e}function B(i,e,t){i.classList[t?"add":"remove"](e)}function rn(i,e,{bubbles:t=!1,cancelable:n=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(i,t,n,e),l}let je;function We(i){je=i}function it(){if(!je)throw new Error("Function called outside component initialization");return je}function Si(i){it().$$.before_update.push(i)}function Ht(i){it().$$.on_mount.push(i)}function an(i){it().$$.on_destroy.push(i)}function Ft(){const i=it();return(e,t,{cancelable:n=!1}={})=>{const l=i.$$.callbacks[e];if(l){const a=rn(e,t,{cancelable:n});return l.slice().forEach(s=>{s.call(i,a)}),!a.defaultPrevented}return!0}}function fn(i,e){const t=i.$$.callbacks[e.type];t&&t.slice().forEach(n=>n.call(this,e))}const Ne=[],me=[],Ze=[],Lt=[],Oi=Promise.resolve();let It=!1;function Hi(){It||(It=!0,Oi.then(Fi))}function un(){return Hi(),Oi}function pt(i){Ze.push(i)}function hn(i){Lt.push(i)}const vt=new Set;let Qe=0;function Fi(){const i=je;do{for(;Qe<Ne.length;){const e=Ne[Qe];Qe++,We(e),dn(e.$$)}for(We(null),Ne.length=0,Qe=0;me.length;)me.pop()();for(let e=0;e<Ze.length;e+=1){const t=Ze[e];vt.has(t)||(vt.add(t),t())}Ze.length=0}while(Ne.length);for(;Lt.length;)Lt.pop()();It=!1,vt.clear(),We(i)}function dn(i){if(i.fragment!==null){i.update(),ge(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(pt)}}const xe=new Set;let Le;function D(){Le={r:0,c:[],p:Le}}function P(){Le.r||ge(Le.c),Le=Le.p}function k(i,e){i&&i.i&&(xe.delete(i),i.i(e))}function L(i,e,t,n){if(i&&i.o){if(xe.has(i))return;xe.add(i),Le.c.push(()=>{xe.delete(i),n&&(t&&i.d(1),n())}),i.o(e)}else n&&n()}function At(i,e){const t={},n={},l={$$scope:1};let a=i.length;for(;a--;){const s=i[a],o=e[a];if(o){for(const c in s)c in o||(n[c]=1);for(const c in o)l[c]||(t[c]=o[c],l[c]=1);i[a]=o}else for(const c in s)l[c]=1}for(const s in n)s in t||(t[s]=void 0);return t}function Ai(i){return typeof i=="object"&&i!==null?i:{}}function Yt(i,e,t){const n=i.$$.props[e];n!==void 0&&(i.$$.bound[n]=t,t(i.$$.ctx[n]))}function J(i){i&&i.c()}function q(i,e,t,n){const{fragment:l,on_mount:a,on_destroy:s,after_update:o}=i.$$;l&&l.m(e,t),n||pt(()=>{const c=a.map(Ii).filter(sn);s?s.push(...c):ge(c),i.$$.on_mount=[]}),o.forEach(pt)}function z(i,e){const t=i.$$;t.fragment!==null&&(ge(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function gn(i,e){i.$$.dirty[0]===-1&&(Ne.push(i),Hi(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function fe(i,e,t,n,l,a,s,o=[-1]){const c=je;We(i);const f=i.$$={fragment:null,ctx:null,props:a,update:$,not_equal:l,bound:zt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:zt(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};s&&s(f.root);let u=!1;if(f.ctx=t?t(i,e.props||{},(_,d,...h)=>{const w=h.length?h[0]:d;return f.ctx&&l(f.ctx[_],f.ctx[_]=w)&&(!f.skip_bound&&f.bound[_]&&f.bound[_](w),u&&gn(i,_)),d}):[],f.update(),u=!0,ge(f.before_update),f.fragment=n?n(f.ctx):!1,e.target){if(e.hydrate){const _=cn(e.target);f.fragment&&f.fragment.l(_),_.forEach(H)}else f.fragment&&f.fragment.c();e.intro&&k(i.$$.fragment),q(i,e.target,e.anchor,e.customElement),Fi()}We(c)}class ue{$destroy(){z(this,1),this.$destroy=$}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const l=n.indexOf(t);l!==-1&&n.splice(l,1)}}$set(e){this.$$set&&!on(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function bn(i){let e,t=i[4](i[5],i[6])+"";return{c(){e=M("div"),K(e,"class","item svelte-8187u5"),B(e,"active",i[0]),B(e,"first",i[1]),B(e,"hover",i[2]),B(e,"group-item",i[5].isGroupItem),B(e,"not-selectable",!i[3])},m(n,l){F(n,e,l),e.innerHTML=t},p(n,[l]){l&112&&t!==(t=n[4](n[5],n[6])+"")&&(e.innerHTML=t),l&1&&B(e,"active",n[0]),l&2&&B(e,"first",n[1]),l&4&&B(e,"hover",n[2]),l&32&&B(e,"group-item",n[5].isGroupItem),l&8&&B(e,"not-selectable",!n[3])},i:$,o:$,d(n){n&&H(e)}}}function yn(i,e,t){let{isActive:n=!1}=e,{isFirst:l=!1}=e,{isHover:a=!1}=e,{isSelectable:s=!1}=e,{getOptionLabel:o=void 0}=e,{item:c=void 0}=e,{filterText:f=""}=e;return i.$$set=u=>{"isActive"in u&&t(0,n=u.isActive),"isFirst"in u&&t(1,l=u.isFirst),"isHover"in u&&t(2,a=u.isHover),"isSelectable"in u&&t(3,s=u.isSelectable),"getOptionLabel"in u&&t(4,o=u.getOptionLabel),"item"in u&&t(5,c=u.item),"filterText"in u&&t(6,f=u.filterText)},[n,l,a,s,o,c,f]}class mn extends ue{constructor(e){super(),fe(this,e,yn,bn,re,{isActive:0,isFirst:1,isHover:2,isSelectable:3,getOptionLabel:4,item:5,filterText:6})}}function Qt(i,e,t){const n=i.slice();return n[46]=e[t],n[48]=t,n}function _n(i){let e,t;return{c(){e=M("div"),t=_e(i[7]),K(e,"class","empty svelte-boo8nx")},m(n,l){F(n,e,l),A(e,t)},p(n,l){l[0]&128&&Me(t,n[7])},i:$,o:$,d(n){n&&H(e)}}}function Kn(i){let e,t,n,l;const a=[wn,kn],s=[];function o(c,f){return c[4]?0:1}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),n=ae()},m(c,f){s[e].m(c,f),F(c,n,f),l=!0},p(c,f){let u=e;e=o(c),e===u?s[e].p(c,f):(D(),L(s[u],1,1,()=>{s[u]=null}),P(),t=s[e],t?t.p(c,f):(t=s[e]=a[e](c),t.c()),k(t,1),t.m(n.parentNode,n))},i(c){l||(k(t),l=!0)},o(c){L(t),l=!1},d(c){s[e].d(c),c&&H(n)}}}function kn(i){let e,t,n=i[1],l=[];for(let s=0;s<n.length;s+=1)l[s]=Xt(Qt(i,n,s));const a=s=>L(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ae()},m(s,o){for(let c=0;c<l.length;c+=1)l[c].m(s,o);F(s,e,o),t=!0},p(s,o){if(o[0]&202350){n=s[1];let c;for(c=0;c<n.length;c+=1){const f=Qt(s,n,c);l[c]?(l[c].p(f,o),k(l[c],1)):(l[c]=Xt(f),l[c].c(),k(l[c],1),l[c].m(e.parentNode,e))}for(D(),c=n.length;c<l.length;c+=1)a(c);P()}},i(s){if(!t){for(let o=0;o<n.length;o+=1)k(l[o]);t=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)L(l[o]);t=!1},d(s){Ie(l,s),s&&H(e)}}}function wn(i){let e,t,n;var l=i[4];function a(s){return{props:{width:"100%",height:252,itemCount:s[1].length,itemSize:s[11],scrollToIndex:s[2],$$slots:{item:[Ln,({style:o,index:c})=>({44:o,45:c}),({style:o,index:c})=>[0,(o?8192:0)|(c?16384:0)]]},$$scope:{ctx:s}}}}return l&&(e=new l(a(i))),{c(){e&&J(e.$$.fragment),t=ae()},m(s,o){e&&q(e,s,o),F(s,t,o),n=!0},p(s,o){const c={};if(o[0]&2&&(c.itemCount=s[1].length),o[0]&2048&&(c.itemSize=s[11]),o[0]&4&&(c.scrollToIndex=s[2]),o[0]&4718|o[1]&286720&&(c.$$scope={dirty:o,ctx:s}),l!==(l=s[4])){if(e){D();const f=e;L(f.$$.fragment,1,0,()=>{z(f,1)}),P()}l?(e=new l(a(s)),J(e.$$.fragment),k(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else l&&e.$set(c)},i(s){n||(e&&k(e.$$.fragment,s),n=!0)},o(s){e&&L(e.$$.fragment,s),n=!1},d(s){s&&H(t),e&&z(e,s)}}}function vn(i){let e,t,n,l,a,s;var o=i[3];function c(d){return{props:{item:d[46],filterText:d[5],getOptionLabel:d[12],isFirst:St(d[48]),isActive:et(d[46],d[9],d[6]),isHover:tt(d[2],d[46],d[48],d[1]),isSelectable:pe(d[46])}}}o&&(t=new o(c(i)));function f(){return i[32](i[48])}function u(){return i[33](i[48])}function _(...d){return i[34](i[46],i[48],...d)}return{c(){e=M("div"),t&&J(t.$$.fragment),n=ee(),K(e,"class","list-item"),K(e,"tabindex","-1")},m(d,h){F(d,e,h),t&&q(t,e,null),A(e,n),l=!0,a||(s=[ie(e,"mouseover",f),ie(e,"focus",u),ie(e,"click",_)],a=!0)},p(d,h){i=d;const w={};if(h[0]&2&&(w.item=i[46]),h[0]&32&&(w.filterText=i[5]),h[0]&4096&&(w.getOptionLabel=i[12]),h[0]&578&&(w.isActive=et(i[46],i[9],i[6])),h[0]&6&&(w.isHover=tt(i[2],i[46],i[48],i[1])),h[0]&2&&(w.isSelectable=pe(i[46])),o!==(o=i[3])){if(t){D();const g=t;L(g.$$.fragment,1,0,()=>{z(g,1)}),P()}o?(t=new o(c(i)),J(t.$$.fragment),k(t.$$.fragment,1),q(t,e,n)):t=null}else o&&t.$set(w)},i(d){l||(t&&k(t.$$.fragment,d),l=!0)},o(d){t&&L(t.$$.fragment,d),l=!1},d(d){d&&H(e),t&&z(t),a=!1,ge(s)}}}function Cn(i){let e,t=i[10](i[46])+"";return{c(){e=M("div"),K(e,"class","list-group-title svelte-boo8nx")},m(n,l){F(n,e,l),e.innerHTML=t},p(n,l){l[0]&1026&&t!==(t=n[10](n[46])+"")&&(e.innerHTML=t)},i:$,o:$,d(n){n&&H(e)}}}function Xt(i){let e,t,n,l;const a=[Cn,vn],s=[];function o(c,f){return c[46].isGroupHeader&&!c[46].isSelectable?0:1}return e=o(i),t=s[e]=a[e](i),{c(){t.c(),n=ae()},m(c,f){s[e].m(c,f),F(c,n,f),l=!0},p(c,f){let u=e;e=o(c),e===u?s[e].p(c,f):(D(),L(s[u],1,1,()=>{s[u]=null}),P(),t=s[e],t?t.p(c,f):(t=s[e]=a[e](c),t.c()),k(t,1),t.m(n.parentNode,n))},i(c){l||(k(t),l=!0)},o(c){L(t),l=!1},d(c){s[e].d(c),c&&H(n)}}}function Ln(i){let e,t,n,l,a,s;var o=i[3];function c(d){return{props:{item:d[1][d[45]],filterText:d[5],getOptionLabel:d[12],isFirst:St(d[45]),isActive:et(d[1][d[45]],d[9],d[6]),isHover:tt(d[2],d[1][d[45]],d[45],d[1]),isSelectable:pe(d[1][d[45]])}}}o&&(t=new o(c(i)));function f(){return i[29](i[45])}function u(){return i[30](i[45])}function _(...d){return i[31](i[45],...d)}return{c(){e=M("div"),t&&J(t.$$.fragment),K(e,"slot","item"),K(e,"style",n=i[44]),K(e,"class","list-item"),K(e,"tabindex","-1")},m(d,h){F(d,e,h),t&&q(t,e,null),l=!0,a||(s=[ie(e,"mouseover",f),ie(e,"focus",u),ie(e,"click",_)],a=!0)},p(d,h){i=d;const w={};if(h[0]&2|h[1]&16384&&(w.item=i[1][i[45]]),h[0]&32&&(w.filterText=i[5]),h[0]&4096&&(w.getOptionLabel=i[12]),h[1]&16384&&(w.isFirst=St(i[45])),h[0]&578|h[1]&16384&&(w.isActive=et(i[1][i[45]],i[9],i[6])),h[0]&6|h[1]&16384&&(w.isHover=tt(i[2],i[1][i[45]],i[45],i[1])),h[0]&2|h[1]&16384&&(w.isSelectable=pe(i[1][i[45]])),o!==(o=i[3])){if(t){D();const g=t;L(g.$$.fragment,1,0,()=>{z(g,1)}),P()}o?(t=new o(c(i)),J(t.$$.fragment),k(t.$$.fragment,1),q(t,e,null)):t=null}else o&&t.$set(w);(!l||h[1]&8192&&n!==(n=i[44]))&&K(e,"style",n)},i(d){l||(t&&k(t.$$.fragment,d),l=!0)},o(d){t&&L(t.$$.fragment,d),l=!1},d(d){d&&H(e),t&&z(t),a=!1,ge(s)}}}function In(i){let e,t,n,l,a,s,o;const c=[Kn,_n],f=[];function u(_,d){return _[1].length>0?0:_[8]?-1:1}return~(t=u(i))&&(n=f[t]=c[t](i)),{c(){e=M("div"),n&&n.c(),K(e,"class",l="list "+i[15]+" svelte-boo8nx"),K(e,"style",i[14]),B(e,"suggestions",i[13])},m(_,d){F(_,e,d),~t&&f[t].m(e,null),i[35](e),a=!0,s||(o=[ie(window,"keydown",i[18]),ie(window,"scroll",i[19]),ie(window,"resize",i[19]),ie(e,"mousedown",pi(i[28]))],s=!0)},p(_,d){let h=t;t=u(_),t===h?~t&&f[t].p(_,d):(n&&(D(),L(f[h],1,1,()=>{f[h]=null}),P()),~t?(n=f[t],n?n.p(_,d):(n=f[t]=c[t](_),n.c()),k(n,1),n.m(e,null)):n=null),(!a||d[0]&32768&&l!==(l="list "+_[15]+" svelte-boo8nx"))&&K(e,"class",l),(!a||d[0]&16384)&&K(e,"style",_[14]),d[0]&40960&&B(e,"suggestions",_[13])},i(_){a||(k(n),a=!0)},o(_){L(n),a=!1},d(_){_&&H(e),~t&&f[t].d(),i[35](null),s=!1,ge(o)}}}function et(i,e,t){return e&&e[t]===i[t]}function St(i){return i===0}function tt(i,e,t,n){return pe(e)&&(i===t||n.length===1)}function pe(i){return i.isGroupHeader&&i.isSelectable||i.selectable||!i.hasOwnProperty("selectable")}function pn(i,e,t){let n,l;const a=Ft();let{Item:s}=e,{VirtualList:o}=e,{filterText:c}=e,{optionIdentifier:f}=e,{noOptionsMessage:u}=e,{hideEmptyState:_}=e,{value:d}=e,{isMulti:h}=e,{getGroupHeaderLabel:w}=e,{items:g}=e,{itemHeight:C}=e,{getOptionLabel:y}=e,{listPlacement:te}=e,{parent:le}=e,{listAutoWidth:G}=e,{listOffset:x}=e,{list:E=void 0}=e,{hoverItemIndex:I=0}=e,{activeItemIndex:oe=0}=e,{suggestionMode:ce}=e,{computePlacement:N}=e,Y=null,W=!1,T;Ht(()=>{if(g.length>0&&!h&&d){const m=g.findIndex(Q=>Q[f]===d[f]);m&&t(2,I=m)}b("active"),E.addEventListener("scroll",()=>{clearTimeout(Y),Y=setTimeout(()=>{W=!1},100)},!1),I===0&&g[I]&&g[I].isGroupHeader&&!g[I].isSelectable&&t(2,I=1)}),Si(()=>{g||t(1,g=[]),g!==T&&g.length>0&&t(2,I=0),T=g});function V(m){m.isCreator||a("itemSelected",m)}function S(m){W||t(2,I=m)}function v(m){const{item:Q,i:U,event:Se}=m;if(d&&!h&&d[f]===Q[f])return O();Q.isCreator?a("itemCreated",c):pe(Q)&&(t(20,oe=U),t(2,I=U),V(Q))}function O(){a("closeList")}async function Ke(m){let Q=!0;for(;Q;)m>0&&I===g.length-1?t(2,I=0):m<0&&I===0?t(2,I=g.length-1):t(2,I=I+m),Q=!pe(g[I]);await un(),b("hover")}function ne(m){switch(m.key){case"Escape":m.preventDefault(),O();break;case"ArrowDown":m.preventDefault(),g.length&&Ke(1),g[I]&&g[I].isGroupHeader&&!g[I].isSelectable&&t(2,I+=1);break;case"ArrowUp":m.preventDefault(),g.length&&Ke(-1),g[I]&&g[I].isGroupHeader&&!g[I].isSelectable&&(I>0?t(2,I-=1):t(2,I=g.length-1));break;case"Enter":if(m.preventDefault(),g.length===0)break;const Q=g[I];if(d&&!h&&d[f]===Q[f]){O();break}Q.isCreator?a("itemCreated",c):(t(20,oe=I),V(g[I]));break;case"Tab":if(m.preventDefault(),g.length===0||d&&d[f]===g[I][f])return O();t(20,oe=I),V(g[I]);break}}function b(m){if(o||!E)return;let Q;const U=E.querySelector(`.list-item .${m}`);U&&(Q=E.getBoundingClientRect().bottom-U.getBoundingClientRect().bottom),t(0,E.scrollTop-=Q,E)}let R;function ke(){t(27,R=N({parent:le,list:E,listPlacement:te,listOffset:x,listAutoWidth:G}))}function Te(m){fn.call(this,i,m)}const be=m=>S(m),Ve=m=>S(m),we=(m,Q)=>v({item:g[m],i:m,event:Q}),De=m=>S(m),Pe=m=>S(m),ve=(m,Q,U)=>v({item:m,i:Q,event:U});function Be(m){me[m?"unshift":"push"](()=>{E=m,t(0,E)})}return i.$$set=m=>{"Item"in m&&t(3,s=m.Item),"VirtualList"in m&&t(4,o=m.VirtualList),"filterText"in m&&t(5,c=m.filterText),"optionIdentifier"in m&&t(6,f=m.optionIdentifier),"noOptionsMessage"in m&&t(7,u=m.noOptionsMessage),"hideEmptyState"in m&&t(8,_=m.hideEmptyState),"value"in m&&t(9,d=m.value),"isMulti"in m&&t(21,h=m.isMulti),"getGroupHeaderLabel"in m&&t(10,w=m.getGroupHeaderLabel),"items"in m&&t(1,g=m.items),"itemHeight"in m&&t(11,C=m.itemHeight),"getOptionLabel"in m&&t(12,y=m.getOptionLabel),"listPlacement"in m&&t(22,te=m.listPlacement),"parent"in m&&t(23,le=m.parent),"listAutoWidth"in m&&t(24,G=m.listAutoWidth),"listOffset"in m&&t(25,x=m.listOffset),"list"in m&&t(0,E=m.list),"hoverItemIndex"in m&&t(2,I=m.hoverItemIndex),"activeItemIndex"in m&&t(20,oe=m.activeItemIndex),"suggestionMode"in m&&t(13,ce=m.suggestionMode),"computePlacement"in m&&t(26,N=m.computePlacement)},i.$$.update=()=>{i.$$.dirty[0]&8388609&&le&&E&&ke(),i.$$.dirty[0]&134217728&&t(15,n=R&&R.placementClass),i.$$.dirty[0]&134217728&&t(14,l=R&&R.listStyle)},[E,g,I,s,o,c,f,u,_,d,w,C,y,ce,l,n,S,v,ne,ke,oe,h,te,le,G,x,N,R,Te,be,Ve,we,De,Pe,ve,Be]}class Sn extends ue{constructor(e){super(),fe(this,e,pn,In,re,{Item:3,VirtualList:4,filterText:5,optionIdentifier:6,noOptionsMessage:7,hideEmptyState:8,value:9,isMulti:21,getGroupHeaderLabel:10,items:1,itemHeight:11,getOptionLabel:12,listPlacement:22,parent:23,listAutoWidth:24,listOffset:25,list:0,hoverItemIndex:2,activeItemIndex:20,suggestionMode:13,computePlacement:26},null,[-1,-1])}}function On(i){let e,t=i[0](i[1])+"";return{c(){e=M("div"),K(e,"class","selection svelte-1pdqyjp")},m(n,l){F(n,e,l),e.innerHTML=t},p(n,[l]){l&3&&t!==(t=n[0](n[1])+"")&&(e.innerHTML=t)},i:$,o:$,d(n){n&&H(e)}}}function Hn(i,e,t){let{getSelectionLabel:n=void 0}=e,{item:l=void 0}=e;return i.$$set=a=>{"getSelectionLabel"in a&&t(0,n=a.getSelectionLabel),"item"in a&&t(1,l=a.item)},[n,l]}class Fn extends ue{constructor(e){super(),fe(this,e,Hn,On,re,{getSelectionLabel:0,item:1})}}function An(i){let e,t;return{c(){e=Ee("svg"),t=Ee("path"),K(t,"fill","currentColor"),K(t,"d",`M34.923,37.251L24,26.328L13.077,37.251L9.436,33.61l10.923-10.923L9.436,11.765l3.641-3.641L24,19.047L34.923,8.124
    l3.641,3.641L27.641,22.688L38.564,33.61L34.923,37.251z`),K(e,"width","100%"),K(e,"height","100%"),K(e,"viewBox","-2 -2 50 50"),K(e,"focusable","false"),K(e,"aria-hidden","true"),K(e,"role","presentation"),K(e,"class","svelte-whdbu1")},m(n,l){F(n,e,l),A(e,t)},p:$,i:$,o:$,d(n){n&&H(e)}}}class En extends ue{constructor(e){super(),fe(this,e,null,An,re,{})}}function Zt(i,e,t){const n=i.slice();return n[10]=e[t],n[12]=t,n}function xt(i){let e,t,n,l,a;var s=i[5];function o(f){return{}}s&&(t=new s(o()));function c(...f){return i[7](i[12],...f)}return{c(){e=M("div"),t&&J(t.$$.fragment),K(e,"class","multi-item_clear svelte-17zuqnl")},m(f,u){F(f,e,u),t&&q(t,e,null),n=!0,l||(a=ie(e,"click",c),l=!0)},p(f,u){if(i=f,s!==(s=i[5])){if(t){D();const _=t;L(_.$$.fragment,1,0,()=>{z(_,1)}),P()}s?(t=new s(o()),J(t.$$.fragment),k(t.$$.fragment,1),q(t,e,null)):t=null}},i(f){n||(t&&k(t.$$.fragment,f),n=!0)},o(f){t&&L(t.$$.fragment,f),n=!1},d(f){f&&H(e),t&&z(t),l=!1,a()}}}function $t(i){let e,t,n=i[4](i[10])+"",l,a,s,o,c,f,u=!i[2]&&!i[3]&&i[5]&&xt(i);function _(...d){return i[8](i[12],...d)}return{c(){e=M("div"),t=M("div"),l=ee(),u&&u.c(),a=ee(),K(t,"class","multi-item_label svelte-17zuqnl"),K(e,"class",s="multi-item "+(i[1]===i[12]?"active":"")+" "+(i[2]?"disabled":"")+" svelte-17zuqnl")},m(d,h){F(d,e,h),A(e,t),t.innerHTML=n,A(e,l),u&&u.m(e,null),A(e,a),o=!0,c||(f=ie(e,"click",_),c=!0)},p(d,h){i=d,(!o||h&17)&&n!==(n=i[4](i[10])+"")&&(t.innerHTML=n),!i[2]&&!i[3]&&i[5]?u?(u.p(i,h),h&44&&k(u,1)):(u=xt(i),u.c(),k(u,1),u.m(e,a)):u&&(D(),L(u,1,1,()=>{u=null}),P()),(!o||h&6&&s!==(s="multi-item "+(i[1]===i[12]?"active":"")+" "+(i[2]?"disabled":"")+" svelte-17zuqnl"))&&K(e,"class",s)},i(d){o||(k(u),o=!0)},o(d){L(u),o=!1},d(d){d&&H(e),u&&u.d(),c=!1,f()}}}function Mn(i){let e,t,n=i[0],l=[];for(let s=0;s<n.length;s+=1)l[s]=$t(Zt(i,n,s));const a=s=>L(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=ae()},m(s,o){for(let c=0;c<l.length;c+=1)l[c].m(s,o);F(s,e,o),t=!0},p(s,[o]){if(o&127){n=s[0];let c;for(c=0;c<n.length;c+=1){const f=Zt(s,n,c);l[c]?(l[c].p(f,o),k(l[c],1)):(l[c]=$t(f),l[c].c(),k(l[c],1),l[c].m(e.parentNode,e))}for(D(),c=n.length;c<l.length;c+=1)a(c);P()}},i(s){if(!t){for(let o=0;o<n.length;o+=1)k(l[o]);t=!0}},o(s){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)L(l[o]);t=!1},d(s){Ie(l,s),s&&H(e)}}}function Tn(i,e,t){const n=Ft();let{value:l=[]}=e,{activeValue:a=void 0}=e,{isDisabled:s=!1}=e,{multiFullItemClearable:o=!1}=e,{getSelectionLabel:c=void 0}=e,{ClearIcon:f=null}=e;function u(h,w){w.stopPropagation(),n("multiItemClear",{i:h})}const _=(h,w)=>u(h,w),d=(h,w)=>o?u(h,w):{};return i.$$set=h=>{"value"in h&&t(0,l=h.value),"activeValue"in h&&t(1,a=h.activeValue),"isDisabled"in h&&t(2,s=h.isDisabled),"multiFullItemClearable"in h&&t(3,o=h.multiFullItemClearable),"getSelectionLabel"in h&&t(4,c=h.getSelectionLabel),"ClearIcon"in h&&t(5,f=h.ClearIcon)},[l,a,s,o,c,f,u,_,d]}class Vn extends ue{constructor(e){super(),fe(this,e,Tn,Mn,re,{value:0,activeValue:1,isDisabled:2,multiFullItemClearable:3,getSelectionLabel:4,ClearIcon:5})}}function Dn(i){let e,t;return{c(){e=Ee("svg"),t=Ee("path"),K(t,"fill","currentColor"),K(t,"d",`M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747
          3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0
          1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502
          0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0
          0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z`),K(e,"width","100%"),K(e,"height","100%"),K(e,"viewBox","0 0 20 20"),K(e,"focusable","false"),K(e,"aria-hidden","true"),K(e,"class","svelte-qbd276")},m(n,l){F(n,e,l),A(e,t)},p:$,i:$,o:$,d(n){n&&H(e)}}}class Pn extends ue{constructor(e){super(),fe(this,e,null,Dn,re,{})}}function Bn(i){let e,t;return{c(){e=Ee("svg"),t=Ee("circle"),K(t,"class","circle_path svelte-1vv9d3e"),K(t,"cx","50"),K(t,"cy","50"),K(t,"r","20"),K(t,"fill","none"),K(t,"stroke","currentColor"),K(t,"stroke-width","5"),K(t,"stroke-miterlimit","10"),K(e,"class","loading svelte-1vv9d3e"),K(e,"viewBox","25 25 50 50")},m(n,l){F(n,e,l),A(e,t)},p:$,i:$,o:$,d(n){n&&H(e)}}}class Rn extends ue{constructor(e){super(),fe(this,e,null,Bn,re,{})}}function Gn({loadOptions:i,filterText:e,items:t,isMulti:n,value:l,optionIdentifier:a,groupBy:s,isCreatable:o,itemFilter:c,convertStringItemsToObjects:f,filterGroupedItems:u,addCreatableItem:_,getOptionLabel:d}){if(i&&e.length>0)return;if(!t)return[];t&&t.length>0&&typeof t[0]!="object"&&(t=f(t));let h=t.filter(w=>{let g=c(d(w,e),e,w);return g&&n&&l&&Array.isArray(l)&&(g=!l.some(C=>C[a]===w[a])),g});return s&&(h=u(h)),o&&(h=_(h,e)),h}async function Nn({dispatch:i,loadOptions:e,convertStringItemsToObjects:t,filterText:n}){let l=await e(n).catch(a=>{console.warn("svelte-select loadOptions error :>> ",a),i("error",{type:"loadOptions",details:a})});if(l&&!l.cancelled)return l?(l&&l.length>0&&typeof l[0]!="object"&&(l=t(l)),i("loaded",{items:l})):l=[],{filteredItems:l,isWaiting:!1,isFocused:!0,listOpen:!0}}function Wn({parent:i,list:e,listPlacement:t,listOffset:n,listAutoWidth:l}){const{top:a,bottom:s,left:o,height:c,width:f}=i.getBoundingClientRect();let u,_;const d=`position:fixed;left:${o}px;min-width:${f}px;width:${l?f+"px":"auto"};`,h=`bottom:${window.innerHeight-s+c+n}px;`,w=`top:${a+c+n}px;`;return t==="top"?(u=d+h,_="top"):t==="bottom"?(u=d+w,_="bottom"):(u=d+w,_="bottom",s+n+e.offsetHeight>window.innerHeight&&(u=d+h,_="top")),{placementClass:_,listStyle:u}}function ei(i,e,t){const n=i.slice();return n[116]=e[t],n}function ti(i){let e,t,n=i[28]&&ii(i);return{c(){e=M("div"),n&&n.c(),K(e,"class","svelte-select-list")},m(l,a){F(l,e,a),n&&n.m(e,null),i[95](e),t=!0},p(l,a){l[28]?n?(n.p(l,a),a[0]&268435456&&k(n,1)):(n=ii(l),n.c(),k(n,1),n.m(e,null)):n&&(D(),L(n,1,1,()=>{n=null}),P())},i(l){t||(k(n),t=!0)},o(l){L(n),t=!1},d(l){l&&H(e),n&&n.d(),i[95](null)}}}function ii(i){let e,t,n,l;const a=[i[33]];function s(f){i[94](f)}var o=i[7];function c(f){let u={};for(let _=0;_<a.length;_+=1)u=Ot(u,a[_]);return f[27]!==void 0&&(u.hoverItemIndex=f[27]),{props:u}}return o&&(e=new o(c(i)),me.push(()=>Yt(e,"hoverItemIndex",s)),e.$on("itemSelected",i[45]),e.$on("itemCreated",i[46]),e.$on("closeList",i[47])),{c(){e&&J(e.$$.fragment),n=ae()},m(f,u){e&&q(e,f,u),F(f,n,u),l=!0},p(f,u){const _=u[1]&4?At(a,[Ai(f[33])]):{};if(!t&&u[0]&134217728&&(t=!0,_.hoverItemIndex=f[27],hn(()=>t=!1)),o!==(o=f[7])){if(e){D();const d=e;L(d.$$.fragment,1,0,()=>{z(d,1)}),P()}o?(e=new o(c(f)),me.push(()=>Yt(e,"hoverItemIndex",s)),e.$on("itemSelected",f[45]),e.$on("itemCreated",f[46]),e.$on("closeList",f[47]),J(e.$$.fragment),k(e.$$.fragment,1),q(e,n.parentNode,n)):e=null}else o&&e.$set(_)},i(f){l||(e&&k(e.$$.fragment,f),l=!0)},o(f){e&&L(e.$$.fragment,f),l=!1},d(f){f&&H(n),e&&z(e,f)}}}function ni(i){let e,t,n,l,a;return{c(){e=M("span"),t=_e(i[35]),n=ee(),l=M("span"),a=_e(i[34]),K(e,"id","aria-selection"),K(l,"id","aria-context")},m(s,o){F(s,e,o),A(e,t),F(s,n,o),F(s,l,o),A(l,a)},p(s,o){o[1]&16&&Me(t,s[35]),o[1]&8&&Me(a,s[34])},d(s){s&&H(e),s&&H(n),s&&H(l)}}}function li(i){let e,t,n;const l=[i[24]];var a=i[13];function s(o){let c={};for(let f=0;f<l.length;f+=1)c=Ot(c,l[f]);return{props:c}}return a&&(e=new a(s())),{c(){e&&J(e.$$.fragment),t=ae()},m(o,c){e&&q(e,o,c),F(o,t,c),n=!0},p(o,c){const f=c[0]&16777216?At(l,[Ai(o[24])]):{};if(a!==(a=o[13])){if(e){D();const u=e;L(u.$$.fragment,1,0,()=>{z(u,1)}),P()}a?(e=new a(s()),J(e.$$.fragment),k(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else a&&e.$set(f)},i(o){n||(e&&k(e.$$.fragment,o),n=!0)},o(o){e&&L(e.$$.fragment,o),n=!1},d(o){o&&H(t),e&&z(e,o)}}}function si(i){let e,t,n;var l=i[9];function a(s){return{props:{value:s[3],getSelectionLabel:s[20],activeValue:s[30],isDisabled:s[16],ClearIcon:s[11],multiFullItemClearable:s[15]}}}return l&&(e=new l(a(i)),e.$on("multiItemClear",i[40]),e.$on("focus",i[42])),{c(){e&&J(e.$$.fragment),t=ae()},m(s,o){e&&q(e,s,o),F(s,t,o),n=!0},p(s,o){const c={};if(o[0]&8&&(c.value=s[3]),o[0]&1048576&&(c.getSelectionLabel=s[20]),o[0]&1073741824&&(c.activeValue=s[30]),o[0]&65536&&(c.isDisabled=s[16]),o[0]&2048&&(c.ClearIcon=s[11]),o[0]&32768&&(c.multiFullItemClearable=s[15]),l!==(l=s[9])){if(e){D();const f=e;L(f.$$.fragment,1,0,()=>{z(f,1)}),P()}l?(e=new l(a(s)),e.$on("multiItemClear",s[40]),e.$on("focus",s[42]),J(e.$$.fragment),k(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}else l&&e.$set(c)},i(s){n||(e&&k(e.$$.fragment,s),n=!0)},o(s){e&&L(e.$$.fragment,s),n=!1},d(s){s&&H(t),e&&z(e,s)}}}function oi(i){let e,t,n;var l=i[8];function a(s){return{props:{item:s[3],getSelectionLabel:s[20]}}}return l&&(t=new l(a(i))),{c(){e=M("div"),t&&J(t.$$.fragment),K(e,"class","selected-item svelte-1x4yuy2")},m(s,o){F(s,e,o),t&&q(t,e,null),n=!0},p(s,o){const c={};if(o[0]&8&&(c.item=s[3]),o[0]&1048576&&(c.getSelectionLabel=s[20]),l!==(l=s[8])){if(t){D();const f=t;L(f.$$.fragment,1,0,()=>{z(f,1)}),P()}l?(t=new l(a(s)),J(t.$$.fragment),k(t.$$.fragment,1),q(t,e,null)):t=null}else l&&t.$set(c)},i(s){n||(t&&k(t.$$.fragment,s),n=!0)},o(s){t&&L(t.$$.fragment,s),n=!1},d(s){s&&H(e),t&&z(t)}}}function ci(i){let e,t,n,l,a;var s=i[11];function o(c){return{}}return s&&(t=new s(o())),{c(){e=M("div"),t&&J(t.$$.fragment),K(e,"class","clear-select svelte-1x4yuy2"),K(e,"aria-hidden","true")},m(c,f){F(c,e,f),t&&q(t,e,null),n=!0,l||(a=ie(e,"click",pi(i[26])),l=!0)},p(c,f){if(s!==(s=c[11])){if(t){D();const u=t;L(u.$$.fragment,1,0,()=>{z(u,1)}),P()}s?(t=new s(o()),J(t.$$.fragment),k(t.$$.fragment,1),q(t,e,null)):t=null}},i(c){n||(t&&k(t.$$.fragment,c),n=!0)},o(c){t&&L(t.$$.fragment,c),n=!1},d(c){c&&H(e),t&&z(t),l=!1,a()}}}function ri(i){let e,t,n;var l=i[10];function a(s){return{}}return l&&(t=new l(a())),{c(){e=M("div"),t&&J(t.$$.fragment),K(e,"class","chevron svelte-1x4yuy2"),K(e,"aria-hidden","true")},m(s,o){F(s,e,o),t&&q(t,e,null),n=!0},p(s,o){if(l!==(l=s[10])){if(t){D();const c=t;L(c.$$.fragment,1,0,()=>{z(c,1)}),P()}l?(t=new l(a()),J(t.$$.fragment),k(t.$$.fragment,1),q(t,e,null)):t=null}},i(s){n||(t&&k(t.$$.fragment,s),n=!0)},o(s){t&&L(t.$$.fragment,s),n=!1},d(s){s&&H(e),t&&z(t)}}}function ai(i){let e,t,n;var l=i[12];function a(s){return{}}return l&&(e=new l(a())),{c(){e&&J(e.$$.fragment),t=ae()},m(s,o){e&&q(e,s,o),F(s,t,o),n=!0},p(s,o){if(l!==(l=s[12])){if(e){D();const c=e;L(c.$$.fragment,1,0,()=>{z(c,1)}),P()}l?(e=new l(a()),J(e.$$.fragment),k(e.$$.fragment,1),q(e,t.parentNode,t)):e=null}},i(s){n||(e&&k(e.$$.fragment,s),n=!0)},o(s){e&&L(e.$$.fragment,s),n=!1},d(s){s&&H(t),e&&z(e,s)}}}function fi(i){let e,t,n;return{c(){e=M("input"),K(e,"name",t=i[23].name),K(e,"type","hidden"),e.value=n=i[3]?i[3][i[17]]:null,K(e,"class","svelte-1x4yuy2")},m(l,a){F(l,e,a)},p(l,a){a[0]&8388608&&t!==(t=l[23].name)&&K(e,"name",t),a[0]&131080&&n!==(n=l[3]?l[3][l[17]]:null)&&(e.value=n)},d(l){l&&H(e)}}}function ui(i){let e,t=i[3],n=[];for(let l=0;l<t.length;l+=1)n[l]=hi(ei(i,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=ae()},m(l,a){for(let s=0;s<n.length;s+=1)n[s].m(l,a);F(l,e,a)},p(l,a){if(a[0]&8519688){t=l[3];let s;for(s=0;s<t.length;s+=1){const o=ei(l,t,s);n[s]?n[s].p(o,a):(n[s]=hi(o),n[s].c(),n[s].m(e.parentNode,e))}for(;s<n.length;s+=1)n[s].d(1);n.length=t.length}},d(l){Ie(n,l),l&&H(e)}}}function hi(i){let e,t,n;return{c(){e=M("input"),K(e,"name",t=i[23].name),K(e,"type","hidden"),e.value=n=i[116]?i[116][i[17]]:null,K(e,"class","svelte-1x4yuy2")},m(l,a){F(l,e,a)},p(l,a){a[0]&8388608&&t!==(t=l[23].name)&&K(e,"name",t),a[0]&131080&&n!==(n=l[116]?l[116][l[17]]:null)&&(e.value=n)},d(l){l&&H(e)}}}function jn(i){let e,t,n,l,a,s,o,c,f,u,_,d,h,w,g,C,y,te,le,G=i[32]&&ti(i),x=i[2]&&ni(i),E=i[13]&&li(i),I=i[36]&&si(i),oe=[{readOnly:c=!i[21]},i[31],{placeholder:i[37]},{style:i[22]},{disabled:i[16]}],ce={};for(let v=0;v<oe.length;v+=1)ce=Ot(ce,oe[v]);let N=!i[14]&&i[29]&&oi(i),Y=i[38]&&ci(i),W=i[39]&&ri(i),T=i[5]&&ai(i),V=(!i[14]||i[14]&&!i[36])&&fi(i),S=i[14]&&i[36]&&ui(i);return{c(){e=M("div"),G&&G.c(),t=ee(),n=M("span"),x&&x.c(),l=ee(),E&&E.c(),a=ee(),I&&I.c(),s=ee(),o=M("input"),f=ee(),N&&N.c(),u=ee(),_=M("div"),Y&&Y.c(),d=ee(),W&&W.c(),h=ee(),T&&T.c(),w=ee(),V&&V.c(),g=ee(),S&&S.c(),K(n,"aria-live","polite"),K(n,"aria-atomic","false"),K(n,"aria-relevant","additions text"),K(n,"class","a11y-text svelte-1x4yuy2"),Ut(o,ce),B(o,"svelte-1x4yuy2",!0),K(_,"class","icons svelte-1x4yuy2"),K(e,"class",C="svelte-select "+i[25]+" svelte-1x4yuy2"),K(e,"style",i[19]),B(e,"error",i[18]),B(e,"multi",i[14]),B(e,"disabled",i[16]),B(e,"focused",i[2]),B(e,"list-open",i[6]),B(e,"two-icons",i[39]&&i[38]),B(e,"show-chevron",i[39])},m(v,O){F(v,e,O),G&&G.m(e,null),A(e,t),A(e,n),x&&x.m(n,null),A(e,l),E&&E.m(e,null),A(e,a),I&&I.m(e,null),A(e,s),A(e,o),o.autofocus&&o.focus(),i[96](o),Jt(o,i[4]),A(e,f),N&&N.m(e,null),A(e,u),A(e,_),Y&&Y.m(_,null),A(_,d),W&&W.m(_,null),A(_,h),T&&T.m(_,null),A(e,w),V&&V.m(e,null),A(e,g),S&&S.m(e,null),i[98](e),y=!0,te||(le=[ie(window,"click",i[48]),ie(o,"keydown",i[41]),ie(o,"blur",i[43]),ie(o,"focus",i[42]),ie(o,"input",i[97]),ie(e,"click",i[44])],te=!0)},p(v,O){v[32]?G?(G.p(v,O),O[1]&2&&k(G,1)):(G=ti(v),G.c(),k(G,1),G.m(e,t)):G&&(D(),L(G,1,1,()=>{G=null}),P()),v[2]?x?x.p(v,O):(x=ni(v),x.c(),x.m(n,null)):x&&(x.d(1),x=null),v[13]?E?(E.p(v,O),O[0]&8192&&k(E,1)):(E=li(v),E.c(),k(E,1),E.m(e,a)):E&&(D(),L(E,1,1,()=>{E=null}),P()),v[36]?I?(I.p(v,O),O[1]&32&&k(I,1)):(I=si(v),I.c(),k(I,1),I.m(e,s)):I&&(D(),L(I,1,1,()=>{I=null}),P()),Ut(o,ce=At(oe,[(!y||O[0]&2097152&&c!==(c=!v[21]))&&{readOnly:c},O[1]&1&&v[31],(!y||O[1]&64)&&{placeholder:v[37]},(!y||O[0]&4194304)&&{style:v[22]},(!y||O[0]&65536)&&{disabled:v[16]}])),O[0]&16&&o.value!==v[4]&&Jt(o,v[4]),B(o,"svelte-1x4yuy2",!0),!v[14]&&v[29]?N?(N.p(v,O),O[0]&536887296&&k(N,1)):(N=oi(v),N.c(),k(N,1),N.m(e,u)):N&&(D(),L(N,1,1,()=>{N=null}),P()),v[38]?Y?(Y.p(v,O),O[1]&128&&k(Y,1)):(Y=ci(v),Y.c(),k(Y,1),Y.m(_,d)):Y&&(D(),L(Y,1,1,()=>{Y=null}),P()),v[39]?W?(W.p(v,O),O[1]&256&&k(W,1)):(W=ri(v),W.c(),k(W,1),W.m(_,h)):W&&(D(),L(W,1,1,()=>{W=null}),P()),v[5]?T?(T.p(v,O),O[0]&32&&k(T,1)):(T=ai(v),T.c(),k(T,1),T.m(_,null)):T&&(D(),L(T,1,1,()=>{T=null}),P()),!v[14]||v[14]&&!v[36]?V?V.p(v,O):(V=fi(v),V.c(),V.m(e,g)):V&&(V.d(1),V=null),v[14]&&v[36]?S?S.p(v,O):(S=ui(v),S.c(),S.m(e,null)):S&&(S.d(1),S=null),(!y||O[0]&33554432&&C!==(C="svelte-select "+v[25]+" svelte-1x4yuy2"))&&K(e,"class",C),(!y||O[0]&524288)&&K(e,"style",v[19]),O[0]&33816576&&B(e,"error",v[18]),O[0]&33570816&&B(e,"multi",v[14]),O[0]&33619968&&B(e,"disabled",v[16]),O[0]&33554436&&B(e,"focused",v[2]),O[0]&33554496&&B(e,"list-open",v[6]),O[0]&33554432|O[1]&384&&B(e,"two-icons",v[39]&&v[38]),O[0]&33554432|O[1]&256&&B(e,"show-chevron",v[39])},i(v){y||(k(G),k(E),k(I),k(N),k(Y),k(W),k(T),y=!0)},o(v){L(G),L(E),L(I),L(N),L(Y),L(W),L(T),y=!1},d(v){v&&H(e),G&&G.d(),x&&x.d(),E&&E.d(),I&&I.d(),i[96](null),N&&N.d(),Y&&Y.d(),W&&W.d(),T&&T.d(),V&&V.d(),S&&S.d(),i[98](null),te=!1,ge(le)}}}function di(i){return i.map((e,t)=>({index:t,value:e,label:`${e}`}))}function qn(i,e,t){let n,l,a,s,o,c,f,u,_,d,h;const w=Ft();let{justValue:g=null}=e,{Item:C=mn}=e,{List:y=Sn}=e,{Selection:te=Fn}=e,{filter:le=Gn}=e,{getItems:G=Nn}=e,{computePlacement:x=Wn}=e,{Multi:E=Vn}=e,{ChevronIcon:I=Pn}=e,{ClearIcon:oe=En}=e,{LoadingIcon:ce=Rn}=e,{VirtualList:N=null}=e,{Icon:Y=void 0}=e,{id:W=null}=e,{container:T=void 0}=e,{input:V=void 0}=e,{isMulti:S=!1}=e,{multiFullItemClearable:v=!1}=e,{isDisabled:O=!1}=e,{isCreatable:Ke=!1}=e,{isFocused:ne=!1}=e,{value:b=null}=e,{filterText:R=""}=e,{placeholder:ke="Please select"}=e,{placeholderAlwaysShow:Te=!1}=e,{items:be=null}=e,{itemFilter:Ve=(r,p)=>`${r}`.toLowerCase().includes(p.toLowerCase())}=e,{groupBy:we=void 0}=e,{groupFilter:De=r=>r}=e,{isGroupHeaderSelectable:Pe=!1}=e;const ve=r=>r&&`${r}`.replace(/\</gi,"&lt;");let{getGroupHeaderLabel:Be=r=>ve(r[m])||r.id}=e,{labelIdentifier:m="label"}=e,{getOptionLabel:Q=(r,p)=>r.isCreator?(p=ve(p),`Create "${p}"`):ve(r[m])}=e,{optionIdentifier:U="value"}=e,{loadOptions:Se=void 0}=e,{hasError:Et=!1}=e,{containerStyles:Mt=""}=e,{getSelectionLabel:Re=r=>r?ve(r[m]):null}=e,{createGroupHeaderItem:nt=(r,p)=>({value:r,label:r})}=e,{createItem:Ge=r=>({value:r,label:r})}=e;const Ti=()=>h;let{isSearchable:qe=!0}=e,{inputStyles:Tt=""}=e,{isClearable:lt=!0}=e,{isWaiting:Oe=!1}=e,{listPlacement:st="auto"}=e,{listOpen:X=ne}=e,Vt,{debounce:ot=(r,p=1)=>{clearTimeout(Vt),Vt=setTimeout(r,p)}}=e,{debounceWait:ct=300}=e,{noOptionsMessage:rt="No options"}=e,{hideEmptyState:at=!1}=e,{inputAttributes:ze={}}=e,{listAutoWidth:ft=!0}=e,{itemHeight:ut=42}=e,{iconProps:Dt={}}=e,{showChevron:ht=!1}=e,{listOffset:dt=5}=e,{suggestions:Ue=null}=e;function Pt(r,p){if(p.length===0)return r;const j=Ge(p);return r[0]&&p===r[0][m]?r:(j.isCreator=!0,[...r,j])}let{class:Bt=""}=e,Z,Ce,gt,bt,Je;function Vi(){if(typeof b=="string"){let r=be.find(p=>p[U]===b);t(3,b=r||{[U]:b,label:b})}else S&&Array.isArray(b)&&b.length>0&&t(3,b=b.map(r=>typeof r=="string"?{value:r,label:r}:r))}let He;function Di(){t(31,He=Object.assign({autocapitalize:"none",autocomplete:"off",autocorrect:"off",spellcheck:!1,tabindex:0,type:"text","aria-autocomplete":"list"},ze)),W&&t(31,He.id=W,He),qe||t(31,He.readonly=!0,He)}function Rt(r){const p=[],j={};r.forEach(Ae=>{const he=we(Ae);p.includes(he)||(p.push(he),j[he]=[],he&&j[he].push(Object.assign(nt(he,Ae),{id:he,isGroupHeader:!0,isSelectable:Pe}))),j[he].push(Object.assign({isGroupItem:!!he},Ae))});const ye=[];return De(p).forEach(Ae=>{j[Ae]&&ye.push(...j[Ae])}),ye}function Pi(){if(S){JSON.stringify(b)!==JSON.stringify(Ce)&&Gt()&&w("change",b);return}(!Ce||JSON.stringify(b[U])!==JSON.stringify(Ce[U]))&&w("change",b)}function Bi(){b&&(Array.isArray(b)?t(3,b=[...b]):t(3,b=[b]))}function Ri(){b&&t(3,b=null)}function Gi(){R.length!==0&&(t(2,ne=!0),t(6,X=!0),Se?ot(async function(){t(5,Oe=!0);let r=await G({dispatch:w,loadOptions:Se,convertStringItemsToObjects:di,filterText:R});r?(t(5,Oe=r.isWaiting),t(2,ne=r.isFocused),t(6,X=r.listOpen),t(91,h=we?Rt(r.filteredItems):r.filteredItems)):(t(5,Oe=!1),t(2,ne=!0),t(6,X=!0)),Ke&&t(91,h=Pt(h,R))},ct):(t(6,X=!0),S&&t(30,Z=void 0)))}Si(async()=>{t(87,Ce=b),t(88,gt=R),t(89,bt=S)});function Gt(){let r=!0;if(b){const p=[],j=[];b.forEach(ye=>{p.includes(ye[U])?r=!1:(p.push(ye[U]),j.push(ye))}),r||t(3,b=j)}return r}function Nt(r){let p=r?r[U]:b[U];return be.find(j=>j[U]===p)}function Ni(r){!r||r.length===0||r.some(p=>typeof p!="object")||!b||(S?b.some(p=>!p||!p[U]):!b[U])||(Array.isArray(b)?t(3,b=b.map(p=>Nt(p)||p)):t(3,b=Nt()||b))}function Wt(r){const{detail:p}=r,j=b[p?p.i:b.length-1];b.length===1?t(3,b=void 0):t(3,b=b.filter(ye=>ye!==j)),w("clear",j)}function Wi(r){if(!!ne)switch(r.key){case"Enter":r.preventDefault();break;case"ArrowDown":r.preventDefault(),X||(t(6,X=!0),t(30,Z=void 0),r.stopPropagation());break;case"ArrowUp":r.preventDefault(),t(6,X=!0),t(30,Z=void 0);break;case"Tab":X||t(2,ne=!1);break;case"Backspace":if(!S||R.length>0)return;if(S&&b&&b.length>0){if(Wt(Z!==void 0?Z:b.length-1),Z===0||Z===void 0)break;t(30,Z=b.length>Z?Z-1:void 0)}break;case"ArrowLeft":if(!S||R.length>0)return;Z===void 0?t(30,Z=b.length-1):b.length>Z&&Z!==0&&t(30,Z-=1);break;case"ArrowRight":if(!S||R.length>0||Z===void 0)return;Z===b.length-1?t(30,Z=void 0):Z<b.length-1&&t(30,Z+=1);break}}function Ye(r){w("focus",r),t(2,ne=!0),r&&V.focus()}function jt(r){w("blur",r),t(6,X=!1),t(2,ne=!1),t(30,Z=void 0),V.blur()}function ji(){O||(t(2,ne=!0),t(6,X=!X),X&&Ye())}function qi(){t(3,b=void 0),t(6,X=!1),w("clear",b),Ye()}let yt;Ht(()=>{X&&t(2,ne=!0),ne&&V&&V.focus(),t(90,yt=!0)});function zi(r){if(f){t(4,R=r.detail.value);return}const{detail:p}=r;if(p){t(4,R="");const j=Object.assign({},p);(!j.isGroupHeader||j.isSelectable)&&(S?t(3,b=b?b.concat([j]):[j]):t(3,b=j),t(3,b),setTimeout(()=>{t(6,X=!1),t(30,Z=void 0),w("select",b)}))}}function Ui(r){const{detail:p}=r;S?(t(3,b=b||[]),t(3,b=[...b,Ge(p)])):t(3,b=Ge(p)),w("itemCreated",p),t(4,R=""),t(6,X=!1),t(30,Z=void 0)}function Ji(){t(4,R=""),t(6,X=!1)}let{ariaValues:mt=r=>`Option ${r}, selected.`}=e,{ariaListOpen:_t=(r,p)=>`You are currently focused on option ${r}. There are ${p} results available.`}=e,{ariaFocused:Kt=()=>"Select is focused, type to refine list, press down to open the menu."}=e;function Yi(r){let p;return r&&b.length>0?p=b.map(j=>Re(j)).join(", "):p=Re(b),mt(p)}function Qi(){if(!h||h.length===0)return"";let r=h[Je];if(X&&r){let p=Re(r),j=h?h.length:0;return _t(p,j)}else return Kt()}let se=null,kt=!1;function qt(){t(32,kt=!1)}async function Xi(){t(32,kt=!0)}let{appendListTarget:Fe=null}=e;function Zi(r){T&&!T.contains(r.target)&&!(se!=null&&se.contains(r.target))&&jt()}an(()=>{se==null||se.remove()});function xi(r){Je=r,t(27,Je)}function $i(r){me[r?"unshift":"push"](()=>{se=r,t(28,se)})}function en(r){me[r?"unshift":"push"](()=>{V=r,t(1,V)})}function tn(){R=this.value,t(4,R)}function nn(r){me[r?"unshift":"push"](()=>{T=r,t(0,T)})}return i.$$set=r=>{"justValue"in r&&t(50,g=r.justValue),"Item"in r&&t(51,C=r.Item),"List"in r&&t(7,y=r.List),"Selection"in r&&t(8,te=r.Selection),"filter"in r&&t(52,le=r.filter),"getItems"in r&&t(53,G=r.getItems),"computePlacement"in r&&t(54,x=r.computePlacement),"Multi"in r&&t(9,E=r.Multi),"ChevronIcon"in r&&t(10,I=r.ChevronIcon),"ClearIcon"in r&&t(11,oe=r.ClearIcon),"LoadingIcon"in r&&t(12,ce=r.LoadingIcon),"VirtualList"in r&&t(55,N=r.VirtualList),"Icon"in r&&t(13,Y=r.Icon),"id"in r&&t(56,W=r.id),"container"in r&&t(0,T=r.container),"input"in r&&t(1,V=r.input),"isMulti"in r&&t(14,S=r.isMulti),"multiFullItemClearable"in r&&t(15,v=r.multiFullItemClearable),"isDisabled"in r&&t(16,O=r.isDisabled),"isCreatable"in r&&t(57,Ke=r.isCreatable),"isFocused"in r&&t(2,ne=r.isFocused),"value"in r&&t(3,b=r.value),"filterText"in r&&t(4,R=r.filterText),"placeholder"in r&&t(58,ke=r.placeholder),"placeholderAlwaysShow"in r&&t(59,Te=r.placeholderAlwaysShow),"items"in r&&t(60,be=r.items),"itemFilter"in r&&t(61,Ve=r.itemFilter),"groupBy"in r&&t(62,we=r.groupBy),"groupFilter"in r&&t(63,De=r.groupFilter),"isGroupHeaderSelectable"in r&&t(64,Pe=r.isGroupHeaderSelectable),"getGroupHeaderLabel"in r&&t(66,Be=r.getGroupHeaderLabel),"labelIdentifier"in r&&t(67,m=r.labelIdentifier),"getOptionLabel"in r&&t(68,Q=r.getOptionLabel),"optionIdentifier"in r&&t(17,U=r.optionIdentifier),"loadOptions"in r&&t(69,Se=r.loadOptions),"hasError"in r&&t(18,Et=r.hasError),"containerStyles"in r&&t(19,Mt=r.containerStyles),"getSelectionLabel"in r&&t(20,Re=r.getSelectionLabel),"createGroupHeaderItem"in r&&t(70,nt=r.createGroupHeaderItem),"createItem"in r&&t(71,Ge=r.createItem),"isSearchable"in r&&t(21,qe=r.isSearchable),"inputStyles"in r&&t(22,Tt=r.inputStyles),"isClearable"in r&&t(73,lt=r.isClearable),"isWaiting"in r&&t(5,Oe=r.isWaiting),"listPlacement"in r&&t(74,st=r.listPlacement),"listOpen"in r&&t(6,X=r.listOpen),"debounce"in r&&t(75,ot=r.debounce),"debounceWait"in r&&t(76,ct=r.debounceWait),"noOptionsMessage"in r&&t(77,rt=r.noOptionsMessage),"hideEmptyState"in r&&t(78,at=r.hideEmptyState),"inputAttributes"in r&&t(23,ze=r.inputAttributes),"listAutoWidth"in r&&t(79,ft=r.listAutoWidth),"itemHeight"in r&&t(80,ut=r.itemHeight),"iconProps"in r&&t(24,Dt=r.iconProps),"showChevron"in r&&t(81,ht=r.showChevron),"listOffset"in r&&t(82,dt=r.listOffset),"suggestions"in r&&t(83,Ue=r.suggestions),"class"in r&&t(25,Bt=r.class),"ariaValues"in r&&t(84,mt=r.ariaValues),"ariaListOpen"in r&&t(85,_t=r.ariaListOpen),"ariaFocused"in r&&t(86,Kt=r.ariaFocused),"appendListTarget"in r&&t(49,Fe=r.appendListTarget)},i.$$.update=()=>{i.$$.dirty[0]&8|i.$$.dirty[1]&536870912&&b&&Vi(),i.$$.dirty[0]&10485760&&(ze||!qe)&&Di(),i.$$.dirty[0]&16384&&S&&Bi(),i.$$.dirty[0]&16384|i.$$.dirty[2]&134217728&&bt&&!S&&Ri(),i.$$.dirty[0]&16392&&S&&b&&b.length>1&&Gt(),i.$$.dirty[0]&8&&b&&Pi(),i.$$.dirty[0]&16392|i.$$.dirty[2]&33554432&&!b&&S&&Ce&&w("change",b),i.$$.dirty[0]&6&&!ne&&V&&t(6,X=!1),i.$$.dirty[0]&66&&X&&V&&Ye(),i.$$.dirty[0]&16|i.$$.dirty[2]&67108864&&R!==gt&&Gi(),i.$$.dirty[0]&268435520&&!X&&se&&qt(),i.$$.dirty[0]&16392&&t(93,n=S?b&&b.length>1:b),i.$$.dirty[0]&1024|i.$$.dirty[2]&524288&&t(39,l=ht&&I),i.$$.dirty[0]&16|i.$$.dirty[3]&1&&t(29,a=n&&R.length===0),i.$$.dirty[0]&536936480|i.$$.dirty[2]&2048&&t(38,s=a&&lt&&!O&&!Oe),i.$$.dirty[0]&16392|i.$$.dirty[1]&402653184&&t(37,o=Te&&S?ke:b?"":ke),i.$$.dirty[0]&16392&&t(36,c=S&&b&&b.length>0),i.$$.dirty[0]&16|i.$$.dirty[2]&2097152&&t(92,f=Ue&&R.length===0),i.$$.dirty[0]&16392&&t(35,u=b?Yi(S):""),i.$$.dirty[0]&147480|i.$$.dirty[1]&1679818752|i.$$.dirty[2]&1075839169&&t(91,h=le({loadOptions:Se,filterText:R,items:f?Ue:be,isMulti:S,value:b,optionIdentifier:U,groupBy:we,isCreatable:Ke,itemFilter:Ve,convertStringItemsToObjects:di,filterGroupedItems:Rt,addCreatableItem:Pt,getOptionLabel:Q})),i.$$.dirty[0]&134217796|i.$$.dirty[2]&536870912&&t(34,_=Qi()),i.$$.dirty[1]&536870912&&Ni(be),i.$$.dirty[0]&147464&&S&&t(50,g=b?b.map(r=>r[U]):null),i.$$.dirty[0]&147464&&(S||t(50,g=b&&b[U])),i.$$.dirty[0]&16392|i.$$.dirty[2]&33554432&&!S&&Ce&&!b&&w("change",b),i.$$.dirty[0]&147481|i.$$.dirty[1]&26214400|i.$$.dirty[2]&1612157008&&t(33,d={Item:C,filterText:R,optionIdentifier:U,noOptionsMessage:rt,hideEmptyState:at,VirtualList:N,value:b,isMulti:S,getGroupHeaderLabel:Be,items:h,itemHeight:ut,getOptionLabel:Q,listPlacement:st,parent:T,listAutoWidth:ft,listOffset:dt,suggestionMode:f,computePlacement:x}),i.$$.dirty[0]&64|i.$$.dirty[2]&268435456&&(yt&&X?Xi():qt()),i.$$.dirty[0]&268435456|i.$$.dirty[1]&262144&&se&&!Fe&&t(49,Fe=document.body),i.$$.dirty[0]&268435456|i.$$.dirty[1]&262144&&se&&Fe&&Fe.appendChild(se)},[T,V,ne,b,R,Oe,X,y,te,E,I,oe,ce,Y,S,v,O,U,Et,Mt,Re,qe,Tt,ze,Dt,Bt,qi,Je,se,a,Z,He,kt,d,_,u,c,o,s,l,Wt,Wi,Ye,jt,ji,zi,Ui,Ji,Zi,Fe,g,C,le,G,x,N,W,Ke,ke,Te,be,Ve,we,De,Pe,ve,Be,m,Q,Se,nt,Ge,Ti,lt,st,ot,ct,rt,at,ft,ut,ht,dt,Ue,mt,_t,Kt,Ce,gt,bt,yt,h,f,n,xi,$i,en,tn,nn]}class zn extends ue{constructor(e){super(),fe(this,e,qn,jn,re,{justValue:50,Item:51,List:7,Selection:8,filter:52,getItems:53,computePlacement:54,Multi:9,ChevronIcon:10,ClearIcon:11,LoadingIcon:12,VirtualList:55,Icon:13,id:56,container:0,input:1,isMulti:14,multiFullItemClearable:15,isDisabled:16,isCreatable:57,isFocused:2,value:3,filterText:4,placeholder:58,placeholderAlwaysShow:59,items:60,itemFilter:61,groupBy:62,groupFilter:63,isGroupHeaderSelectable:64,sanitiseLabel:65,getGroupHeaderLabel:66,labelIdentifier:67,getOptionLabel:68,optionIdentifier:17,loadOptions:69,hasError:18,containerStyles:19,getSelectionLabel:20,createGroupHeaderItem:70,createItem:71,getFilteredItems:72,isSearchable:21,inputStyles:22,isClearable:73,isWaiting:5,listPlacement:74,listOpen:6,debounce:75,debounceWait:76,noOptionsMessage:77,hideEmptyState:78,inputAttributes:23,listAutoWidth:79,itemHeight:80,iconProps:24,showChevron:81,listOffset:82,suggestions:83,class:25,handleClear:26,ariaValues:84,ariaListOpen:85,ariaFocused:86,appendListTarget:49},null,[-1,-1,-1,-1])}get sanitiseLabel(){return this.$$.ctx[65]}get getFilteredItems(){return this.$$.ctx[72]}get handleClear(){return this.$$.ctx[26]}}const gi=()=>{app.hotkeyManager.bake();const i=app.hotkeyManager.bakedIds,e=app.hotkeyManager.bakedHotkeys,t=[];for(let n=0;n<i.length;n++){const l=i[n],a=e[n]||{},s=a.key||"",o=a.modifiers||"";t.push({id:l,key:s,modifiers:o})}return t},Ct=[{list:0,keyList:[{basicKeyCode:27,basicKey:"Esc",secondKey:"",description:"",highlight:!1},{basicKeyCode:112,basicKey:"F1",secondKey:"",description:"",highlight:!1},{basicKeyCode:113,basicKey:"F2",secondKey:"",description:"",highlight:!1},{basicKeyCode:114,basicKey:"F3",secondKey:"",description:"",highlight:!1},{basicKeyCode:115,basicKey:"F4",secondKey:"",description:"",highlight:!1},{basicKeyCode:116,basicKey:"F5",secondKey:"",description:"",highlight:!1},{basicKeyCode:117,basicKey:"F6",secondKey:"",description:"",highlight:!1},{basicKeyCode:118,basicKey:"F7",secondKey:"",description:"",highlight:!1},{basicKeyCode:119,basicKey:"F8",secondKey:"",description:"",highlight:!1},{basicKeyCode:120,basicKey:"F9",secondKey:"",description:"",highlight:!1},{basicKeyCode:121,basicKey:"F10",secondKey:"",description:"",highlight:!1},{basicKeyCode:122,basicKey:"F11",secondKey:"",description:"",highlight:!1},{basicKeyCode:123,basicKey:"F12",secondKey:"",description:"",highlight:!1}]},{list:1,keyList:[{basicKeyCode:192,basicKey:"~",secondKey:"",description:"",highlight:!1},{basicKeyCode:49,basicKey:"1",secondKey:"",description:"",highlight:!1},{basicKeyCode:50,basicKey:"2",secondKey:"",description:"",highlight:!1},{basicKeyCode:51,basicKey:"3",secondKey:"",description:"",highlight:!1},{basicKeyCode:52,basicKey:"4",secondKey:"",description:"",highlight:!1},{basicKeyCode:53,basicKey:"5",secondKey:"",description:"",highlight:!1},{basicKeyCode:54,basicKey:"6",secondKey:"",description:"",highlight:!1},{basicKeyCode:55,basicKey:"7",secondKey:"",description:"",highlight:!1},{basicKeyCode:56,basicKey:"8",secondKey:"",description:"",highlight:!1},{basicKeyCode:57,basicKey:"9",secondKey:"",description:"",highlight:!1},{basicKeyCode:48,basicKey:"0",secondKey:"",description:"",highlight:!1},{basicKeyCode:189,basicKey:"-",secondKey:"",description:"",highlight:!1},{basicKeyCode:187,basicKey:"+",secondKey:"",description:"",highlight:!1},{basicKeyCode:8,basicKey:"Backspace",secondKey:"",description:"",highlight:!1}]},{list:2,keyList:[{basicKeyCode:9,basicKey:"Tab",secondKey:"",description:"",highlight:!1},{basicKeyCode:81,basicKey:"Q",secondKey:"",description:"",highlight:!1},{basicKeyCode:87,basicKey:"w",secondKey:"",description:"",highlight:!1},{basicKeyCode:69,basicKey:"E",secondKey:"",description:"",highlight:!1},{basicKeyCode:82,basicKey:"R",secondKey:"",description:"",highlight:!1},{basicKeyCode:84,basicKey:"T",secondKey:"",description:"",highlight:!1},{basicKeyCode:89,basicKey:"Y",secondKey:"",description:"",highlight:!1},{basicKeyCode:85,basicKey:"U",secondKey:"",description:"",highlight:!1},{basicKeyCode:73,basicKey:"I",secondKey:"",description:"",highlight:!1},{basicKeyCode:79,basicKey:"O",secondKey:"",description:"",highlight:!1},{basicKeyCode:80,basicKey:"P",secondKey:"",description:"",highlight:!1},{basicKeyCode:219,basicKey:"[",secondKey:"",description:"",highlight:!1},{basicKeyCode:221,basicKey:"]",secondKey:"",description:"",highlight:!1},{basicKeyCode:220,basicKey:"\\",secondKey:"",description:"",highlight:!1}]},{list:3,keyList:[{basicKeyCode:20,basicKey:"CapsLock",secondKey:"",description:"",highlight:!1},{basicKeyCode:65,basicKey:"A",secondKey:"",description:"",highlight:!1},{basicKeyCode:83,basicKey:"S",secondKey:"",description:"",highlight:!1},{basicKeyCode:68,basicKey:"D",secondKey:"",description:"",highlight:!1},{basicKeyCode:70,basicKey:"F",secondKey:"",description:"",highlight:!1},{basicKeyCode:71,basicKey:"G",secondKey:"",description:"",highlight:!1},{basicKeyCode:72,basicKey:"H",secondKey:"",description:"",highlight:!1},{basicKeyCode:74,basicKey:"J",secondKey:"",description:"",highlight:!1},{basicKeyCode:75,basicKey:"K",secondKey:"",description:"",highlight:!1},{basicKeyCode:76,basicKey:"L",secondKey:"",description:"",highlight:!1},{basicKeyCode:186,basicKey:";",secondKey:"",description:"",highlight:!1},{basicKeyCode:222,basicKey:"'",secondKey:"",description:"",highlight:!1},{basicKeyCode:13,basicKey:"Enter",secondKey:"",description:"",highlight:!1}]},{list:4,keyList:[{basicKeyCode:16,basicKey:"Shift",secondKey:"",description:"",highlight:!1,LeftOrRight:"Left"},{basicKeyCode:90,basicKey:"Z",secondKey:"",description:"",highlight:!1},{basicKeyCode:88,basicKey:"X",secondKey:"",description:"",highlight:!1},{basicKeyCode:67,basicKey:"C",secondKey:"",description:"",highlight:!1},{basicKeyCode:86,basicKey:"V",secondKey:"",description:"",highlight:!1},{basicKeyCode:66,basicKey:"B",secondKey:"",description:"",highlight:!1},{basicKeyCode:78,basicKey:"N",secondKey:"",description:"",highlight:!1},{basicKeyCode:77,basicKey:"M",secondKey:"",description:"",highlight:!1},{basicKeyCode:188,basicKey:",",secondKey:"",description:"",highlight:!1},{basicKeyCode:190,basicKey:".",secondKey:"",description:"",highlight:!1},{basicKeyCode:191,basicKey:"/",secondKey:"",description:"",highlight:!1},{basicKeyCode:16,basicKey:"Shift",secondKey:"",description:"",highlight:!1,LeftOrRight:"Right"}]},{list:5,keyList:[{basicKeyCode:17,basicKey:"Ctrl",secondKey:"",description:"",highlight:!1,LeftOrRight:"Left"},{basicKeyCode:18,basicKey:"Alt",secondKey:"",description:"",highlight:!1,LeftOrRight:"Left"},{basicKeyCode:90,basicKey:"Win",secondKey:"",description:"",highlight:!1,LeftOrRight:"Left"},{basicKeyCode:32,basicKey:"Space",secondKey:"",description:"",highlight:!1},{basicKeyCode:18,basicKey:"Alt",secondKey:"",description:"",highlight:!1,LeftOrRight:"Right"},{basicKeyCode:90,basicKey:"Win",secondKey:"",description:"",highlight:!1,LeftOrRight:"Right"},{basicKeyCode:17,basicKey:"Fn",secondKey:"",description:"",highlight:!1},{basicKeyCode:18,basicKey:"Ctrl",secondKey:"",description:"",highlight:!1,LeftOrRight:"Right"}]}],bi=[{list:0,keyList:[{basicKey:"Prtsc",basicKeyCode:0,secondKey:"",description:"",highlight:!1},{basicKey:"ScrLK",basicKeyCode:0,secondKey:"",description:"",highlight:!1},{basicKey:"Pause",basicKeyCode:0,secondKey:"",description:"",highlight:!1}]},{list:1,keyList:[{basicKey:"Ins",basicKeyCode:0,secondKey:"",description:"",highlight:!1},{basicKey:"Home",basicKeyCode:0,secondKey:"",description:"",highlight:!1},{basicKey:"PgUp",basicKeyCode:0,secondKey:"",description:"",highlight:!1}]},{list:2,keyList:[{basicKey:"Del",basicKeyCode:0,secondKey:"",description:"",highlight:!1},{basicKey:"End",basicKeyCode:0,secondKey:"",description:"",highlight:!1},{basicKey:"PgDn",basicKeyCode:0,secondKey:"",description:"",highlight:!1}]},{list:3,keyList:[]},{list:4,keyList:[{basicKey:"ArrowUp",basicKeyCode:0,secondKey:"",description:"",highlight:!1}]},{list:5,keyList:[{basicKey:"ArrowLeft",basicKeyCode:0,secondKey:"",description:"",highlight:!1},{basicKey:"ArrowDown",basicKeyCode:0,secondKey:"",description:"",highlight:!1},{basicKey:"ArrowRight",basicKeyCode:0,secondKey:"",description:"",highlight:!1}]}];function yi(i){let e,t;return{c(){e=M("div"),t=_e(i[2]),K(e,"class","second-key vhk-content-center vhk-text-center")},m(n,l){F(n,e,l),A(e,t)},p(n,l){l&4&&Me(t,n[2])},d(n){n&&H(e)}}}function Un(i){var w,g;let e,t,n,l=(i[7]>0?i[8][i[7]]:i[1])+"",a,s,o,c,f,u=(i[3].length>0?(g=(w=i[3])==null?void 0:w.split(":")[1])==null?void 0:g.trim():"")+"",_,d,h=i[2].length>0&&yi(i);return{c(){e=M("div"),t=M("div"),n=M("div"),a=_e(l),s=ee(),h&&h.c(),o=ee(),c=M("div"),f=M("div"),_=_e(u),K(n,"class","first-key vhk-content-center vhk-text-center vhk-text-slate-400 dark:vhk-text-gray-400"),K(t,"class","key-code"),K(f,"class","key-desc-text vhk-content-center vhk-text-center vhk-text-xs"),K(c,"class","key-desc"),K(e,"class",d="virtual-hotkey "+i[9][i[0]]+" "+i[10][i[5]]+" vhk-h-16 "+(i[4]?"vhk-bg-neutral-300 vhk-shadow-neutral-600 vhk-drop-shadow-lg dark:vhk-bg-neutral-700 dark:vhk-shadow-neutral-800 dark:vhk-text-gray-200":"vhk-bg-neutral-100 vhk-shadow-neutral-300 vhk-drop-shadow-lg dark:vhk-bg-neutral-800 dark:vhk-shadow-neutral-1000")+" "+(i[4]&&i[6]?"vhk-bg-stone-300 vhk-shadow-stone-600 vhk-border-2 vhk-border-dashed vhk-border-indigo-300 vhk-drop-shadow-sm":"")+" vhk-rounded-md"),K(e,"data-type",i[1])},m(C,y){F(C,e,y),A(e,t),A(t,n),A(n,a),A(t,s),h&&h.m(t,null),A(e,o),A(e,c),A(c,f),A(f,_)},p(C,[y]){var te,le;y&130&&l!==(l=(C[7]>0?C[8][C[7]]:C[1])+"")&&Me(a,l),C[2].length>0?h?h.p(C,y):(h=yi(C),h.c(),h.m(t,null)):h&&(h.d(1),h=null),y&8&&u!==(u=(C[3].length>0?(le=(te=C[3])==null?void 0:te.split(":")[1])==null?void 0:le.trim():"")+"")&&Me(_,u),y&113&&d!==(d="virtual-hotkey "+C[9][C[0]]+" "+C[10][C[5]]+" vhk-h-16 "+(C[4]?"vhk-bg-neutral-300 vhk-shadow-neutral-600 vhk-drop-shadow-lg dark:vhk-bg-neutral-700 dark:vhk-shadow-neutral-800 dark:vhk-text-gray-200":"vhk-bg-neutral-100 vhk-shadow-neutral-300 vhk-drop-shadow-lg dark:vhk-bg-neutral-800 dark:vhk-shadow-neutral-1000")+" "+(C[4]&&C[6]?"vhk-bg-stone-300 vhk-shadow-stone-600 vhk-border-2 vhk-border-dashed vhk-border-indigo-300 vhk-drop-shadow-sm":"")+" vhk-rounded-md")&&K(e,"class",d),y&2&&K(e,"data-type",C[1])},i:$,o:$,d(C){C&&H(e),h&&h.d()}}}function Jn(i,e,t){let{basicKey:n=""}=e,{secondKey:l=""}=e,{spanLength:a=0}=e,{keyDesc:s=""}=e,{highlight:o}=e,c=0,f=!1,u=0;switch(n==="Space"?a=4:n==="Shift"?a=3:n==="CapsLock"||n==="Enter"||n==="Backspace"?a=2:(n==="Ctrl"||n==="Alt"||n==="Win"||n==="Fn"||n==="\\"||n==="Tab")&&(a=1),(n==="Ctrl"||n==="Alt"||n==="Shift")&&(f=!0),n){case"F1":c=1;break;case"F5":c=2;break;case"F9":c=3;break;case"ArrowUp":c=4;break}switch(n){case"ArrowUp":u=1;break;case"ArrowDown":u=2;break;case"ArrowLeft":u=3;break;case"ArrowRight":u=4;break}let _=["","\u2191","\u2193","\u2190","\u2192"],d=["vhk-col-span-2","vhk-col-span-3","vhk-col-span-4","vhk-col-span-5","vhk-col-span-15"],h=["","vhk-col-start-5","vhk-col-start-14","vhk-col-start-23","vhk-col-start-3"];return i.$$set=w=>{"basicKey"in w&&t(1,n=w.basicKey),"secondKey"in w&&t(2,l=w.secondKey),"spanLength"in w&&t(0,a=w.spanLength),"keyDesc"in w&&t(3,s=w.keyDesc),"highlight"in w&&t(4,o=w.highlight)},[a,n,l,s,o,c,f,u,_,d,h]}class Ei extends ue{constructor(e){super(),fe(this,e,Jn,Un,re,{basicKey:1,secondKey:2,spanLength:0,keyDesc:3,highlight:4})}}function mi(i,e,t){const n=i.slice();return n[8]=e[t],n[10]=t,n}function _i(i,e,t){const n=i.slice();return n[11]=e[t],n}function Ki(i,e,t){const n=i.slice();return n[8]=e[t],n[10]=t,n}function ki(i,e,t){const n=i.slice();return n[11]=e[t],n}function wi(i){let e,t;return e=new Ei({props:{basicKey:i[11].basicKey,keyDesc:i[11].description,secondKey:i[11].secondKey,highlight:i[11].highlight}}),{c(){J(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const a={};l&1&&(a.basicKey=n[11].basicKey),l&1&&(a.keyDesc=n[11].description),l&1&&(a.secondKey=n[11].secondKey),l&1&&(a.highlight=n[11].highlight),e.$set(a)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function vi(i){let e,t,n,l=i[8].keyList,a=[];for(let o=0;o<l.length;o+=1)a[o]=wi(ki(i,l,o));const s=o=>L(a[o],1,1,()=>{a[o]=null});return{c(){e=M("div");for(let o=0;o<a.length;o+=1)a[o].c();t=ee(),K(e,"class","keyboard-list-"+(i[10]+1)+" vhk-grid "+(i[10]===5?"vhk-grid-cols-36":"vhk-grid-cols-30")+" vhk-gap-2 svelte-bai9xq")},m(o,c){F(o,e,c);for(let f=0;f<a.length;f+=1)a[f].m(e,null);A(e,t),n=!0},p(o,c){if(c&1){l=o[8].keyList;let f;for(f=0;f<l.length;f+=1){const u=ki(o,l,f);a[f]?(a[f].p(u,c),k(a[f],1)):(a[f]=wi(u),a[f].c(),k(a[f],1),a[f].m(e,t))}for(D(),f=l.length;f<a.length;f+=1)s(f);P()}},i(o){if(!n){for(let c=0;c<l.length;c+=1)k(a[c]);n=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)L(a[c]);n=!1},d(o){o&&H(e),Ie(a,o)}}}function Ci(i){let e,t;return e=new Ei({props:{basicKey:i[11].basicKey,keyDesc:i[11].description,secondKey:i[11].secondKey,highlight:i[11].highlight}}),{c(){J(e.$$.fragment)},m(n,l){q(e,n,l),t=!0},p(n,l){const a={};l&2&&(a.basicKey=n[11].basicKey),l&2&&(a.keyDesc=n[11].description),l&2&&(a.secondKey=n[11].secondKey),l&2&&(a.highlight=n[11].highlight),e.$set(a)},i(n){t||(k(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){z(e,n)}}}function Li(i){let e,t,n,l=i[8].keyList,a=[];for(let o=0;o<l.length;o+=1)a[o]=Ci(_i(i,l,o));const s=o=>L(a[o],1,1,()=>{a[o]=null});return{c(){e=M("div");for(let o=0;o<a.length;o+=1)a[o].c();t=ee(),K(e,"class","keyboard-list-"+(i[10]+1)+" vhk-grid vhk-grid-cols-6 vhk-gap-2 svelte-bai9xq")},m(o,c){F(o,e,c);for(let f=0;f<a.length;f+=1)a[f].m(e,null);A(e,t),n=!0},p(o,c){if(c&2){l=o[8].keyList;let f;for(f=0;f<l.length;f+=1){const u=_i(o,l,f);a[f]?(a[f].p(u,c),k(a[f],1)):(a[f]=Ci(u),a[f].c(),k(a[f],1),a[f].m(e,t))}for(D(),f=l.length;f<a.length;f+=1)s(f);P()}},i(o){if(!n){for(let c=0;c<l.length;c+=1)k(a[c]);n=!0}},o(o){a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)L(a[c]);n=!1},d(o){o&&H(e),Ie(a,o)}}}function Yn(i){let e,t,n,l,a,s,o,c;t=new zn({props:{items:i[2],isMulti:!0,placeholder:"Select Modifier Key[s] Here"}}),t.$on("change",i[3]);let f=i[0],u=[];for(let g=0;g<f.length;g+=1)u[g]=vi(Ki(i,f,g));const _=g=>L(u[g],1,1,()=>{u[g]=null});let d=i[1],h=[];for(let g=0;g<d.length;g+=1)h[g]=Li(mi(i,d,g));const w=g=>L(h[g],1,1,()=>{h[g]=null});return{c(){e=M("div"),J(t.$$.fragment),n=ee(),l=M("div"),a=M("div");for(let g=0;g<u.length;g+=1)u[g].c();s=ee(),o=M("div");for(let g=0;g<h.length;g+=1)h[g].c();K(e,"class","virtual-keyboard-hotkey-selector vhk-w-2/5 vhk-ml-2 vhk-mt-2"),K(a,"class","virtual-keyboard-layout-main vhk-grid vhk-grid-rows-6 vhk-gap-2 vhk-w-4/5 vhk-mb-auto vhk-p-2 "),K(o,"class","virtual-keyboard-layout-func vhk-grid vhk-grid-rows-6 vhk-w-1/6 vhk-gap-2 vhk-p-2"),K(l,"class","virtual-keyboard-container vhk-w-full vhk-flex")},m(g,C){F(g,e,C),q(t,e,null),F(g,n,C),F(g,l,C),A(l,a);for(let y=0;y<u.length;y+=1)u[y].m(a,null);A(l,s),A(l,o);for(let y=0;y<h.length;y+=1)h[y].m(o,null);c=!0},p(g,[C]){if(C&1){f=g[0];let y;for(y=0;y<f.length;y+=1){const te=Ki(g,f,y);u[y]?(u[y].p(te,C),k(u[y],1)):(u[y]=vi(te),u[y].c(),k(u[y],1),u[y].m(a,null))}for(D(),y=f.length;y<u.length;y+=1)_(y);P()}if(C&2){d=g[1];let y;for(y=0;y<d.length;y+=1){const te=mi(g,d,y);h[y]?(h[y].p(te,C),k(h[y],1)):(h[y]=Li(te),h[y].c(),k(h[y],1),h[y].m(o,null))}for(D(),y=d.length;y<h.length;y+=1)w(y);P()}},i(g){if(!c){k(t.$$.fragment,g);for(let C=0;C<f.length;C+=1)k(u[C]);for(let C=0;C<d.length;C+=1)k(h[C]);c=!0}},o(g){L(t.$$.fragment,g),u=u.filter(Boolean);for(let C=0;C<u.length;C+=1)L(u[C]);h=h.filter(Boolean);for(let C=0;C<h.length;C+=1)L(h[C]);c=!1},d(g){g&&H(e),z(t),g&&H(n),g&&H(l),Ie(u,g),Ie(h,g)}}}function Qn(i,e,t){let n=[],l=[],a=Ct,s=bi,o=[];const c=[{value:"Mod",label:"Ctrl"},{value:"Alt",label:"Alt"},{value:"Shift",label:"Shift"}];Ht(()=>{n=gi(),l=n.filter(_=>_.modifiers===""),u()});function f(_){if(o=[],n=gi(),_.detail)for(let d=0;d<_.detail.length;d++)o.push(_.detail[d].label);l=n.filter(d=>d.modifiers===o.sort().toString()),u()}function u(){let _=[],d=[];for(let h=0;h<Ct.length;h++){let w=Ct[h].keyList,g=bi[h].keyList;l.forEach(C=>{w=w.map(y=>y.basicKey===C.key||o.includes(y.basicKey)?{basicKeyCode:y.basicKeyCode,basicKey:y.basicKey,secondKey:y.secondKey,description:o.includes(y.basicKey)?y.description:C.id,highlight:!0}:{basicKeyCode:y.basicKeyCode,basicKey:y.basicKey,secondKey:y.secondKey,description:y.description,highlight:y.highlight}),g=g==null?void 0:g.map(y=>y.basicKey===C.key||o.includes(y.basicKey)?{basicKeyCode:y.basicKeyCode,basicKey:y.basicKey,secondKey:y.secondKey,description:o.includes(y.basicKey)?y.description:C.id,highlight:!0}:{basicKeyCode:y.basicKeyCode,basicKey:y.basicKey,secondKey:y.secondKey,description:y.description,highlight:y.highlight})}),_.push({list:h,keyList:w}),d.push({list:h,keyList:g})}t(0,a=_),t(1,s=d)}return[a,s,c,f]}class Mi extends ue{constructor(e){super(),fe(this,e,Qn,Yn,re,{})}}const $e="virtual-hotkey-view",Xn={addSidebarRibbon:"openModal"};class Zn extends de.ItemView{getViewType(){return $e}getDisplayText(){return"Virtual Hotkey Board"}getIcon(){return"keyboard"}async onOpen(){new Mi({target:this.contentEl,props:{}})}}class xn extends de.Plugin{constructor(){super(...arguments),this.globalsAdded=!1}async onload(){switch(await this.loadSettings(),this.addSettingTab(new $n(this.app,this)),this.addCommand({id:"open-virtual-hotkey-modal",name:"Open Virtual Hotkey Board Modal",callback:()=>{new Xe(this.app).open()}}),this.addCommand({id:"open-virtual-hotkey-view",name:"Open Virtual Hotkey Board",callback:()=>{this.openVirtualHotkeyBoardView()}}),this.settings.addSidebarRibbon){case"openView":this.addRibbonIcon("keyboard","Virtual Hotkey Board",e=>this.openVirtualHotkeyBoardView());break;case"openModal":this.addRibbonIcon("keyboard","Virtual Hotkey Board Modal",e=>new Xe(this.app).open());break;case"both":this.addRibbonIcon("keyboard","Virtual Hotkey Board",e=>this.openVirtualHotkeyBoardView()),this.addRibbonIcon("keyboard","Virtual Hotkey Board Modal",e=>new Xe(this.app).open());break}this.registerView($e,e=>this.view=new Zn(e)),this.app.workspace.onLayoutReady(this.onLayoutReady.bind(this)),this.registerEvent(this.app.workspace.on("plugin-settings:plugin-control",(e,t,n,l)=>{this.globalsAdded}))}async loadSettings(){this.settings=Object.assign({},Xn,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}onunload(){}onLayoutReady(){const e=this.getSettingsTab("hotkeys");e&&this.register(wt(e,{display:this.addPluginSettingEvents.bind(this,e.id)}));const t=this.getSettingsTab("hotkeys");t&&this.register(wt(t,{display(n){return function(){n.call(this);const l=this.searchInputEl.parentElement.createEl("button");l.className="hotkey-button vhk-ml-2 vhk-w-12",de.setIcon(l,"keyboard"),l.onclick=()=>{new Xe(this.app).open()},this.searchInputEl.focus()}}}))}async openVirtualHotkeyBoardView(){const e=this.app.workspace;e.detachLeavesOfType($e);const t=e.getLeaf(!de.Platform.isMobile);await t.setViewState({type:$e}),e.revealLeaf(t)}getSettingsTab(e){return app.setting.settingTabs.filter(t=>t.id===e).shift()}addPluginSettingEvents(e,t){const n=this.app;let l=!1;function a(s,...o){l=!0;try{n.workspace.trigger(s,...o)}catch(c){console.error(c)}l=!1}return function(...o){if(l)return;a("plugin-settings:before-display",this,e);const c=wt(de.Setting.prototype,{addExtraButton(f){return function(u){return f.call(this,function(_){u(_)})}}});try{return t.apply(this,o)}finally{c(),a("plugin-settings:after-display",this)}}}}class $n extends de.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){const{containerEl:e}=this;e.empty(),this.containerEl.createEl("h2",{text:"Regular Options"}),new de.Setting(e).setName("Add Icon to Ribbon").setDesc("Only add modal open icon to ribbon by default.").addDropdown(t=>t.addOption("openModal","Modal").addOption("openView","View").addOption("both","Both").setValue(this.plugin.settings.addSidebarRibbon).onChange(async n=>{this.plugin.settings.addSidebarRibbon=n,await this.plugin.saveSettings()})),this.containerEl.createEl("h2",{text:"Say Thank You"}),new de.Setting(e).setName("Donate").setDesc("If you like this plugin, consider donating to support continued development:").addButton(t=>{t.buttonEl.outerHTML='<a href="https://www.buymeacoffee.com/boninall"><img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=boninall&button_colour=6495ED&font_colour=ffffff&font_family=Inter&outline_colour=000000&coffee_colour=FFDD00"></a>'})}}class Xe extends de.Modal{constructor(e){super(e)}onOpen(){var t;const{contentEl:e}=this;(t=e.parentElement)==null||t.addClasses(["virtual-hotkey-modal"]),new Mi({target:this.contentEl,props:{}})}onClose(){const{contentEl:e}=this;e.empty()}}module.exports=xn;
