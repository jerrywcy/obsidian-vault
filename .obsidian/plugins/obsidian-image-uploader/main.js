var Qr=Object.create,xe=Object.defineProperty,en=Object.getPrototypeOf,tn=Object.prototype.hasOwnProperty,rn=Object.getOwnPropertyNames,nn=Object.getOwnPropertyDescriptor;var wt=t=>xe(t,"__esModule",{value:!0});var R=(t,e)=>()=>(e||(e={exports:{}},t(e.exports,e)),e.exports),sn=(t,e)=>{for(var r in e)xe(t,r,{get:e[r],enumerable:!0})},an=(t,e,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of rn(e))!tn.call(t,n)&&n!=="default"&&xe(t,n,{get:()=>e[n],enumerable:!(r=nn(e,n))||r.enumerable});return t},ye=t=>an(wt(xe(t!=null?Qr(en(t)):{},"default",t&&t.__esModule&&"default"in t?{get:()=>t.default,enumerable:!0}:{value:t,enumerable:!0})),t);var He=R((qi,xt)=>{"use strict";xt.exports=function(e,r){return function(){for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];return e.apply(r,i)}}});var H=R((Ai,Et)=>{"use strict";var on=He(),se=Object.prototype.toString;function Ne(t){return se.call(t)==="[object Array]"}function Ie(t){return typeof t=="undefined"}function un(t){return t!==null&&!Ie(t)&&t.constructor!==null&&!Ie(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function ln(t){return se.call(t)==="[object ArrayBuffer]"}function cn(t){return typeof FormData!="undefined"&&t instanceof FormData}function fn(t){var e;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function dn(t){return typeof t=="string"}function hn(t){return typeof t=="number"}function Rt(t){return t!==null&&typeof t=="object"}function Ee(t){if(se.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function pn(t){return se.call(t)==="[object Date]"}function mn(t){return se.call(t)==="[object File]"}function gn(t){return se.call(t)==="[object Blob]"}function qt(t){return se.call(t)==="[object Function]"}function vn(t){return Rt(t)&&qt(t.pipe)}function yn(t){return typeof URLSearchParams!="undefined"&&t instanceof URLSearchParams}function bn(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}function Cn(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function je(t,e){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),Ne(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function ze(){var t={};function e(i,a){Ee(t[a])&&Ee(i)?t[a]=ze(t[a],i):Ee(i)?t[a]=ze({},i):Ne(i)?t[a]=i.slice():t[a]=i}for(var r=0,n=arguments.length;r<n;r++)je(arguments[r],e);return t}function wn(t,e,r){return je(e,function(i,a){r&&typeof i=="function"?t[a]=on(i,r):t[a]=i}),t}function xn(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}Et.exports={isArray:Ne,isArrayBuffer:ln,isBuffer:un,isFormData:cn,isArrayBufferView:fn,isString:dn,isNumber:hn,isObject:Rt,isPlainObject:Ee,isUndefined:Ie,isDate:pn,isFile:mn,isBlob:gn,isFunction:qt,isStream:vn,isURLSearchParams:yn,isStandardBrowserEnv:Cn,forEach:je,merge:ze,extend:wn,trim:bn,stripBOM:xn}});var Re=R((_i,At)=>{"use strict";var fe=H();function _t(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}At.exports=function(e,r,n){if(!r)return e;var i;if(n)i=n(r);else if(fe.isURLSearchParams(r))i=r.toString();else{var a=[];fe.forEach(r,function(b,w){b===null||typeof b=="undefined"||(fe.isArray(b)?w=w+"[]":b=[b],fe.forEach(b,function(o){fe.isDate(o)?o=o.toISOString():fe.isObject(o)&&(o=JSON.stringify(o)),a.push(_t(w)+"="+_t(o))}))}),i=a.join("&")}if(i){var p=e.indexOf("#");p!==-1&&(e=e.slice(0,p)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}});var Ft=R((Ti,Tt)=>{"use strict";var En=H();function qe(){this.handlers=[]}qe.prototype.use=function(e,r){return this.handlers.push({fulfilled:e,rejected:r}),this.handlers.length-1};qe.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};qe.prototype.forEach=function(e){En.forEach(this.handlers,function(n){n!==null&&e(n)})};Tt.exports=qe});var St=R((Fi,Bt)=>{"use strict";var Rn=H();Bt.exports=function(e,r,n){return Rn.forEach(n,function(a){e=a(e,r)}),e}});var We=R((Bi,Ot)=>{"use strict";Ot.exports=function(e){return!!(e&&e.__CANCEL__)}});var Pt=R((Si,Ut)=>{"use strict";var qn=H();Ut.exports=function(e,r){qn.forEach(e,function(i,a){a!==r&&a.toUpperCase()===r.toUpperCase()&&(e[r]=i,delete e[a])})}});var $e=R((Oi,Dt)=>{"use strict";Dt.exports=function(e,r,n,i,a){return e.config=r,n&&(e.code=n),e.request=i,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}});var Ae=R((Ui,Lt)=>{"use strict";var An=$e();Lt.exports=function(e,r,n,i,a){var p=new Error(e);return An(p,r,n,i,a)}});var Ve=R((Pi,kt)=>{"use strict";var _n=Ae();kt.exports=function(e,r,n){var i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):r(_n("Request failed with status code "+n.status,n.config,null,n.request,n))}});var Ht=R((Di,Mt)=>{"use strict";var _e=H();Mt.exports=_e.isStandardBrowserEnv()?function(){return{write:function(r,n,i,a,p,c){var b=[];b.push(r+"="+encodeURIComponent(n)),_e.isNumber(i)&&b.push("expires="+new Date(i).toGMTString()),_e.isString(a)&&b.push("path="+a),_e.isString(p)&&b.push("domain="+p),c===!0&&b.push("secure"),document.cookie=b.join("; ")},read:function(r){var n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var It=R((Li,Nt)=>{"use strict";Nt.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}});var zt=R((ki,jt)=>{"use strict";jt.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e}});var Xe=R((Mi,Wt)=>{"use strict";var Tn=It(),Fn=zt();Wt.exports=function(e,r){return e&&!Tn(r)?Fn(e,r):r}});var Vt=R((Hi,$t)=>{"use strict";var Ke=H(),Bn=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];$t.exports=function(e){var r={},n,i,a;return e&&Ke.forEach(e.split(`
`),function(c){if(a=c.indexOf(":"),n=Ke.trim(c.substr(0,a)).toLowerCase(),i=Ke.trim(c.substr(a+1)),n){if(r[n]&&Bn.indexOf(n)>=0)return;n==="set-cookie"?r[n]=(r[n]?r[n]:[]).concat([i]):r[n]=r[n]?r[n]+", "+i:i}}),r}});var Gt=R((Ni,Xt)=>{"use strict";var Kt=H();Xt.exports=Kt.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),n;function i(a){var p=a;return e&&(r.setAttribute("href",p),p=r.href),r.setAttribute("href",p),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(p){var c=Kt.isString(p)?i(p):p;return c.protocol===n.protocol&&c.host===n.host}}():function(){return function(){return!0}}()});var Jt=R((Ii,Yt)=>{"use strict";var Te=H(),Sn=Ve(),On=Ht(),Un=Re(),Pn=Xe(),Dn=Vt(),Ln=Gt(),Ge=Ae();Yt.exports=function(e){return new Promise(function(n,i){var a=e.data,p=e.headers;Te.isFormData(a)&&delete p["Content-Type"];var c=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";p.Authorization="Basic "+btoa(b+":"+w)}var s=Pn(e.baseURL,e.url);if(c.open(e.method.toUpperCase(),Un(s,e.params,e.paramsSerializer),!0),c.timeout=e.timeout,c.onreadystatechange=function(){if(!(!c||c.readyState!==4)&&!(c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0))){var h="getAllResponseHeaders"in c?Dn(c.getAllResponseHeaders()):null,B=!e.responseType||e.responseType==="text"?c.responseText:c.response,v={data:B,status:c.status,statusText:c.statusText,headers:h,config:e,request:c};Sn(n,i,v),c=null}},c.onabort=function(){!c||(i(Ge("Request aborted",e,"ECONNABORTED",c)),c=null)},c.onerror=function(){i(Ge("Network Error",e,null,c)),c=null},c.ontimeout=function(){var h="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(h=e.timeoutErrorMessage),i(Ge(h,e,"ECONNABORTED",c)),c=null},Te.isStandardBrowserEnv()){var o=(e.withCredentials||Ln(s))&&e.xsrfCookieName?On.read(e.xsrfCookieName):void 0;o&&(p[e.xsrfHeaderName]=o)}if("setRequestHeader"in c&&Te.forEach(p,function(h,B){typeof a=="undefined"&&B.toLowerCase()==="content-type"?delete p[B]:c.setRequestHeader(B,h)}),Te.isUndefined(e.withCredentials)||(c.withCredentials=!!e.withCredentials),e.responseType)try{c.responseType=e.responseType}catch(g){if(e.responseType!=="json")throw g}typeof e.onDownloadProgress=="function"&&c.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(h){!c||(c.abort(),i(h),c=null)}),a||(a=null),c.send(a)})}});var Qt=R((ji,Zt)=>{var de=1e3,he=de*60,pe=he*60,ae=pe*24,kn=ae*7,Mn=ae*365.25;Zt.exports=function(t,e){e=e||{};var r=typeof t;if(r==="string"&&t.length>0)return Hn(t);if(r==="number"&&isFinite(t))return e.long?In(t):Nn(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Hn(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!!e){var r=parseFloat(e[1]),n=(e[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*Mn;case"weeks":case"week":case"w":return r*kn;case"days":case"day":case"d":return r*ae;case"hours":case"hour":case"hrs":case"hr":case"h":return r*pe;case"minutes":case"minute":case"mins":case"min":case"m":return r*he;case"seconds":case"second":case"secs":case"sec":case"s":return r*de;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function Nn(t){var e=Math.abs(t);return e>=ae?Math.round(t/ae)+"d":e>=pe?Math.round(t/pe)+"h":e>=he?Math.round(t/he)+"m":e>=de?Math.round(t/de)+"s":t+"ms"}function In(t){var e=Math.abs(t);return e>=ae?Fe(t,e,ae,"day"):e>=pe?Fe(t,e,pe,"hour"):e>=he?Fe(t,e,he,"minute"):e>=de?Fe(t,e,de,"second"):t+" ms"}function Fe(t,e,r,n){var i=e>=r*1.5;return Math.round(t/r)+" "+n+(i?"s":"")}});var tr=R((zi,er)=>{function jn(t){r.debug=r,r.default=r,r.coerce=b,r.disable=a,r.enable=i,r.enabled=p,r.humanize=Qt(),r.destroy=w,Object.keys(t).forEach(s=>{r[s]=t[s]}),r.names=[],r.skips=[],r.formatters={};function e(s){let o=0;for(let g=0;g<s.length;g++)o=(o<<5)-o+s.charCodeAt(g),o|=0;return r.colors[Math.abs(o)%r.colors.length]}r.selectColor=e;function r(s){let o,g=null,h,B;function v(...l){if(!v.enabled)return;let y=v,x=Number(new Date),F=x-(o||x);y.diff=F,y.prev=o,y.curr=x,o=x,l[0]=r.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");let S=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,(ie,le)=>{if(ie==="%%")return"%";S++;let J=r.formatters[le];if(typeof J=="function"){let ce=l[S];ie=J.call(y,ce),l.splice(S,1),S--}return ie}),r.formatArgs.call(y,l),(y.log||r.log).apply(y,l)}return v.namespace=s,v.useColors=r.useColors(),v.color=r.selectColor(s),v.extend=n,v.destroy=r.destroy,Object.defineProperty(v,"enabled",{enumerable:!0,configurable:!1,get:()=>g!==null?g:(h!==r.namespaces&&(h=r.namespaces,B=r.enabled(s)),B),set:l=>{g=l}}),typeof r.init=="function"&&r.init(v),v}function n(s,o){let g=r(this.namespace+(typeof o=="undefined"?":":o)+s);return g.log=this.log,g}function i(s){r.save(s),r.namespaces=s,r.names=[],r.skips=[];let o,g=(typeof s=="string"?s:"").split(/[\s,]+/),h=g.length;for(o=0;o<h;o++)!g[o]||(s=g[o].replace(/\*/g,".*?"),s[0]==="-"?r.skips.push(new RegExp("^"+s.substr(1)+"$")):r.names.push(new RegExp("^"+s+"$")))}function a(){let s=[...r.names.map(c),...r.skips.map(c).map(o=>"-"+o)].join(",");return r.enable(""),s}function p(s){if(s[s.length-1]==="*")return!0;let o,g;for(o=0,g=r.skips.length;o<g;o++)if(r.skips[o].test(s))return!1;for(o=0,g=r.names.length;o<g;o++)if(r.names[o].test(s))return!0;return!1}function c(s){return s.toString().substring(2,s.toString().length-2).replace(/\.\*\?$/,"*")}function b(s){return s instanceof Error?s.stack||s.message:s}function w(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}er.exports=jn});var rr=R(($,Be)=>{$.formatArgs=zn;$.save=Wn;$.load=$n;$.useColors=Vn;$.storage=Xn();$.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();$.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Vn(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function zn(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+Be.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let r=0,n=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),t.splice(n,0,e)}$.log=console.debug||console.log||(()=>{});function Wn(t){try{t?$.storage.setItem("debug",t):$.storage.removeItem("debug")}catch(e){}}function $n(){let t;try{t=$.storage.getItem("debug")}catch(e){}return!t&&typeof process!="undefined"&&"env"in process&&(t=process.env.DEBUG),t}function Xn(){try{return localStorage}catch(t){}}Be.exports=tr()($);var{formatters:Kn}=Be.exports;Kn.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var ir=R((Wi,nr)=>{var Se;nr.exports=function(){if(!Se)try{Se=rr()("follow-redirects")}catch(t){Se=function(){}}Se.apply(null,arguments)}});var et=R(($i,Ye)=>{var me=require("url"),Je=me.URL,Gn=require("http"),Yn=require("https"),sr=require("stream").Writable,Jn=require("assert"),ar=ir(),oe=["abort","aborted","connect","error","socket","timeout"],Ze=Object.create(null);oe.forEach(function(t){Ze[t]=function(e,r,n){this._redirectable.emit(t,e,r,n)}});var Zn=Oe("ERR_FR_REDIRECTION_FAILURE",""),Qn=Oe("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),ei=Oe("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),ti=Oe("ERR_STREAM_WRITE_AFTER_END","write after end");function V(t,e){sr.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var r=this;this._onNativeResponse=function(n){r._processResponse(n)},this._performRequest()}V.prototype=Object.create(sr.prototype);V.prototype.abort=function(){or(this._currentRequest),this.emit("abort")};V.prototype.write=function(t,e,r){if(this._ending)throw new ti;if(!(typeof t=="string"||typeof t=="object"&&"length"in t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(typeof e=="function"&&(r=e,e=null),t.length===0){r&&r();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,r)):(this.emit("error",new ei),this.abort())};V.prototype.end=function(t,e,r){if(typeof t=="function"?(r=t,t=e=null):typeof e=="function"&&(r=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,r);else{var n=this,i=this._currentRequest;this.write(t,e,function(){n._ended=!0,i.end(null,null,r)}),this._ending=!0}};V.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};V.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};V.prototype.setTimeout=function(t,e){var r=this;e&&this.on("timeout",e);function n(p){p.setTimeout(t),p.removeListener("timeout",p.destroy),p.addListener("timeout",p.destroy)}function i(p){r._timeout&&clearTimeout(r._timeout),r._timeout=setTimeout(function(){r.emit("timeout"),a()},t),n(p)}function a(){clearTimeout(this._timeout),e&&r.removeListener("timeout",e),this.socket||r._currentRequest.removeListener("socket",i)}return this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",n),this.once("response",a),this.once("error",a),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){V.prototype[t]=function(e,r){return this._currentRequest[t](e,r)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(V.prototype,t,{get:function(){return this._currentRequest[t]}})});V.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};V.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var r=t.substr(0,t.length-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=e.request(this._options,this._onNativeResponse);this._currentUrl=me.format(this._options),n._redirectable=this;for(var i=0;i<oe.length;i++)n.on(oe[i],Ze[oe[i]]);if(this._isRedirect){var a=0,p=this,c=this._requestBodyBuffers;(function b(w){if(n===p._currentRequest)if(w)p.emit("error",w);else if(a<c.length){var s=c[a++];n.finished||n.write(s.data,s.encoding,b)}else p._ended&&n.end()})()}};V.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var r=t.headers.location;if(r&&this._options.followRedirects!==!1&&e>=300&&e<400){if(or(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new Qn);return}((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],Qe(/^content-/i,this._options.headers));var n=Qe(/^host$/i,this._options.headers)||me.parse(this._currentUrl).hostname,i=me.resolve(this._currentUrl,r);ar("redirecting to",i),this._isRedirect=!0;var a=me.parse(i);if(Object.assign(this._options,a),a.hostname!==n&&Qe(/^authorization$/i,this._options.headers),typeof this._options.beforeRedirect=="function"){var p={headers:t.headers};try{this._options.beforeRedirect.call(null,this._options,p)}catch(b){this.emit("error",b);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(b){var c=new Zn("Redirected request failed: "+b.message);c.cause=b,this.emit("error",c)}}else t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[]};function lr(t){var e={maxRedirects:21,maxBodyLength:10*1024*1024},r={};return Object.keys(t).forEach(function(n){var i=n+":",a=r[i]=t[n],p=e[n]=Object.create(a);function c(w,s,o){if(typeof w=="string"){var g=w;try{w=ur(new Je(g))}catch(h){w=me.parse(g)}}else Je&&w instanceof Je?w=ur(w):(o=s,s=w,w={protocol:i});return typeof s=="function"&&(o=s,s=null),s=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},w,s),s.nativeProtocols=r,Jn.equal(s.protocol,i,"protocol mismatch"),ar("options",s),new V(s,o)}function b(w,s,o){var g=p.request(w,s,o);return g.end(),g}Object.defineProperties(p,{request:{value:c,configurable:!0,enumerable:!0,writable:!0},get:{value:b,configurable:!0,enumerable:!0,writable:!0}})}),e}function ri(){}function ur(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function Qe(t,e){var r;for(var n in e)t.test(n)&&(r=e[n],delete e[n]);return r}function Oe(t,e){function r(n){Error.captureStackTrace(this,this.constructor),this.message=n||e}return r.prototype=new Error,r.prototype.constructor=r,r.prototype.name="Error ["+t+"]",r.prototype.code=t,r}function or(t){for(var e=0;e<oe.length;e++)t.removeListener(oe[e],Ze[oe[e]]);t.on("error",ri),t.abort()}Ye.exports=lr({http:Gn,https:Yn});Ye.exports.wrap=lr});var fr=R((Vi,cr)=>{cr.exports={_from:"axios",_id:"axios@0.21.1",_inBundle:!1,_integrity:"sha512-dKQiRHxGD9PPRIUNIWvZhPTPpl1rf/OxTYKsqKUDjBwYylTvV7SjSHJb9ratfyzM6wCdLCOYLzs73qpg5c4iGA==",_location:"/axios",_phantomChildren:{},_requested:{type:"tag",registry:!0,raw:"axios",name:"axios",escapedName:"axios",rawSpec:"",saveSpec:null,fetchSpec:"latest"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/axios/-/axios-0.21.1.tgz",_shasum:"22563481962f4d6bde9a76d516ef0e5d3c09b2b8",_spec:"axios",_where:"C:\\Users\\Creling\\Codes\\obsidian-image-uploader",author:{name:"Matt Zabriskie"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},bugs:{url:"https://github.com/axios/axios/issues"},bundleDependencies:!1,bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}],dependencies:{"follow-redirects":"^1.10.0"},deprecated:!1,description:"Promise based HTTP client for the browser and node.js",devDependencies:{bundlesize:"^0.17.0",coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.0.2","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^20.1.0","grunt-karma":"^2.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^1.3.0","karma-chrome-launcher":"^2.2.0","karma-coverage":"^1.1.1","karma-firefox-launcher":"^1.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.2.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^5.2.0",sinon:"^4.5.0",typescript:"^2.8.1","url-search-params":"^0.10.0",webpack:"^1.13.1","webpack-dev-server":"^1.14.1"},homepage:"https://github.com/axios/axios",jsdelivr:"dist/axios.min.js",keywords:["xhr","http","ajax","promise","node"],license:"MIT",main:"index.js",name:"axios",repository:{type:"git",url:"git+https://github.com/axios/axios.git"},scripts:{build:"NODE_ENV=production grunt build",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",examples:"node ./examples/server.js",fix:"eslint --fix lib/**/*.js",postversion:"git push && git push --tags",preversion:"npm test",start:"node ./sandbox/server.js",test:"grunt test && bundlesize",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json"},typings:"./index.d.ts",unpkg:"dist/axios.min.js",version:"0.21.1"}});var vr=R((Xi,dr)=>{"use strict";var be=H(),hr=Ve(),ni=Xe(),ii=Re(),si=require("http"),ai=require("https"),oi=et().http,ui=et().https,pr=require("url"),li=require("zlib"),ci=fr(),tt=Ae(),rt=$e(),mr=/https:?/;function gr(t,e,r){if(t.hostname=e.host,t.host=e.host,t.port=e.port,t.path=r,e.auth){var n=Buffer.from(e.auth.username+":"+e.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+n}t.beforeRedirect=function(a){a.headers.host=a.host,gr(a,e,a.href)}}dr.exports=function(e){return new Promise(function(n,i){var a=function(f){n(f)},p=function(f){i(f)},c=e.data,b=e.headers;if(!b["User-Agent"]&&!b["user-agent"]&&(b["User-Agent"]="axios/"+ci.version),c&&!be.isStream(c)){if(!Buffer.isBuffer(c))if(be.isArrayBuffer(c))c=Buffer.from(new Uint8Array(c));else if(be.isString(c))c=Buffer.from(c,"utf-8");else return p(tt("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));b["Content-Length"]=c.length}var w=void 0;if(e.auth){var s=e.auth.username||"",o=e.auth.password||"";w=s+":"+o}var g=ni(e.baseURL,e.url),h=pr.parse(g),B=h.protocol||"http:";if(!w&&h.auth){var v=h.auth.split(":"),l=v[0]||"",y=v[1]||"";w=l+":"+y}w&&delete b.Authorization;var x=mr.test(B),F=x?e.httpsAgent:e.httpAgent,S={path:ii(h.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:b,agent:F,agents:{http:e.httpAgent,https:e.httpsAgent},auth:w};e.socketPath?S.socketPath=e.socketPath:(S.hostname=h.hostname,S.port=h.port);var G=e.proxy;if(!G&&G!==!1){var ie=B.slice(0,-1)+"_proxy",le=process.env[ie]||process.env[ie.toUpperCase()];if(le){var J=pr.parse(le),ce=process.env.no_proxy||process.env.NO_PROXY,ge=!0;if(ce){var Me=ce.split(",").map(function(f){return f.trim()});ge=!Me.some(function(f){return f?f==="*"||f[0]==="."&&h.hostname.substr(h.hostname.length-f.length)===f?!0:h.hostname===f:!1})}if(ge&&(G={host:J.hostname,port:J.port,protocol:J.protocol},J.auth)){var ve=J.auth.split(":");G.auth={username:ve[0],password:ve[1]}}}}G&&(S.headers.host=h.hostname+(h.port?":"+h.port:""),gr(S,G,B+"//"+h.hostname+(h.port?":"+h.port:"")+S.path));var X,we=x&&(G?mr.test(G.protocol):!0);e.transport?X=e.transport:e.maxRedirects===0?X=we?ai:si:(e.maxRedirects&&(S.maxRedirects=e.maxRedirects),X=we?ui:oi),e.maxBodyLength>-1&&(S.maxBodyLength=e.maxBodyLength);var L=X.request(S,function(f){if(!L.aborted){var u=f,d=f.req||L;if(f.statusCode!==204&&d.method!=="HEAD"&&e.decompress!==!1)switch(f.headers["content-encoding"]){case"gzip":case"compress":case"deflate":u=u.pipe(li.createUnzip()),delete f.headers["content-encoding"];break}var m={status:f.statusCode,statusText:f.statusMessage,headers:f.headers,config:e,request:d};if(e.responseType==="stream")m.data=u,hr(a,p,m);else{var E=[];u.on("data",function(q){E.push(q),e.maxContentLength>-1&&Buffer.concat(E).length>e.maxContentLength&&(u.destroy(),p(tt("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,d)))}),u.on("error",function(q){L.aborted||p(rt(q,e,null,d))}),u.on("end",function(){var q=Buffer.concat(E);e.responseType!=="arraybuffer"&&(q=q.toString(e.responseEncoding),(!e.responseEncoding||e.responseEncoding==="utf8")&&(q=be.stripBOM(q))),m.data=q,hr(a,p,m)})}}});L.on("error",function(f){L.aborted&&f.code!=="ERR_FR_TOO_MANY_REDIRECTS"||p(rt(f,e,null,L))}),e.timeout&&L.setTimeout(e.timeout,function(){L.abort(),p(tt("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",L))}),e.cancelToken&&e.cancelToken.promise.then(function(f){L.aborted||(L.abort(),p(f))}),be.isStream(c)?c.on("error",function(f){p(rt(f,e,null,L))}).pipe(L):L.end(c)})}});var nt=R((Ki,yr)=>{"use strict";var j=H(),br=Pt(),fi={"Content-Type":"application/x-www-form-urlencoded"};function Cr(t,e){!j.isUndefined(t)&&j.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function di(){var t;return typeof XMLHttpRequest!="undefined"?t=Jt():typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]"&&(t=vr()),t}var Ue={adapter:di(),transformRequest:[function(e,r){return br(r,"Accept"),br(r,"Content-Type"),j.isFormData(e)||j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e)?e:j.isArrayBufferView(e)?e.buffer:j.isURLSearchParams(e)?(Cr(r,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):j.isObject(e)?(Cr(r,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if(typeof e=="string")try{e=JSON.parse(e)}catch(r){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};Ue.headers={common:{Accept:"application/json, text/plain, */*"}};j.forEach(["delete","get","head"],function(e){Ue.headers[e]={}});j.forEach(["post","put","patch"],function(e){Ue.headers[e]=j.merge(fi)});yr.exports=Ue});var Er=R((Gi,wr)=>{"use strict";var xr=H(),it=St(),hi=We(),pi=nt();function st(t){t.cancelToken&&t.cancelToken.throwIfRequested()}wr.exports=function(e){st(e),e.headers=e.headers||{},e.data=it(e.data,e.headers,e.transformRequest),e.headers=xr.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),xr.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var r=e.adapter||pi.adapter;return r(e).then(function(i){return st(e),i.data=it(i.data,i.headers,e.transformResponse),i},function(i){return hi(i)||(st(e),i&&i.response&&(i.response.data=it(i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})}});var at=R((Yi,Rr)=>{"use strict";var M=H();Rr.exports=function(e,r){r=r||{};var n={},i=["url","method","data"],a=["headers","auth","proxy","params"],p=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],c=["validateStatus"];function b(g,h){return M.isPlainObject(g)&&M.isPlainObject(h)?M.merge(g,h):M.isPlainObject(h)?M.merge({},h):M.isArray(h)?h.slice():h}function w(g){M.isUndefined(r[g])?M.isUndefined(e[g])||(n[g]=b(void 0,e[g])):n[g]=b(e[g],r[g])}M.forEach(i,function(h){M.isUndefined(r[h])||(n[h]=b(void 0,r[h]))}),M.forEach(a,w),M.forEach(p,function(h){M.isUndefined(r[h])?M.isUndefined(e[h])||(n[h]=b(void 0,e[h])):n[h]=b(void 0,r[h])}),M.forEach(c,function(h){h in r?n[h]=b(e[h],r[h]):h in e&&(n[h]=b(void 0,e[h]))});var s=i.concat(a).concat(p).concat(c),o=Object.keys(e).concat(Object.keys(r)).filter(function(h){return s.indexOf(h)===-1});return M.forEach(o,w),n}});var Tr=R((Ji,qr)=>{"use strict";var Ar=H(),mi=Re(),_r=Ft(),gi=Er(),Pe=at();function Ce(t){this.defaults=t,this.interceptors={request:new _r,response:new _r}}Ce.prototype.request=function(e){typeof e=="string"?(e=arguments[1]||{},e.url=arguments[0]):e=e||{},e=Pe(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=[gi,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(a){r.unshift(a.fulfilled,a.rejected)}),this.interceptors.response.forEach(function(a){r.push(a.fulfilled,a.rejected)});r.length;)n=n.then(r.shift(),r.shift());return n};Ce.prototype.getUri=function(e){return e=Pe(this.defaults,e),mi(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};Ar.forEach(["delete","get","head","options"],function(e){Ce.prototype[e]=function(r,n){return this.request(Pe(n||{},{method:e,url:r,data:(n||{}).data}))}});Ar.forEach(["post","put","patch"],function(e){Ce.prototype[e]=function(r,n,i){return this.request(Pe(i||{},{method:e,url:r,data:n}))}});qr.exports=Ce});var ut=R((Zi,Fr)=>{"use strict";function ot(t){this.message=t}ot.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};ot.prototype.__CANCEL__=!0;Fr.exports=ot});var Sr=R((Qi,Br)=>{"use strict";var vi=ut();function De(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var r=this;t(function(i){r.reason||(r.reason=new vi(i),e(r.reason))})}De.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};De.source=function(){var e,r=new De(function(i){e=i});return{token:r,cancel:e}};Br.exports=De});var Ur=R((es,Or)=>{"use strict";Or.exports=function(e){return function(n){return e.apply(null,n)}}});var Dr=R((ts,Pr)=>{"use strict";Pr.exports=function(e){return typeof e=="object"&&e.isAxiosError===!0}});var Mr=R((rs,lt)=>{"use strict";var Lr=H(),yi=He(),Le=Tr(),bi=at(),Ci=nt();function kr(t){var e=new Le(t),r=yi(Le.prototype.request,e);return Lr.extend(r,Le.prototype,e),Lr.extend(r,e),r}var Y=kr(Ci);Y.Axios=Le;Y.create=function(e){return kr(bi(Y.defaults,e))};Y.Cancel=ut();Y.CancelToken=Sr();Y.isCancel=We();Y.all=function(e){return Promise.all(e)};Y.spread=Ur();Y.isAxiosError=Dr();lt.exports=Y;lt.exports.default=Y});var Nr=R((ns,Hr)=>{Hr.exports=Mr()});var jr=R((Ir,ke)=>{(function(t,e){"use strict";typeof ke=="object"&&typeof ke.exports=="object"?ke.exports=e():typeof define=="function"&&define.amd?define([],e):t.objectPath=e()})(Ir,function(){"use strict";var t=Object.prototype.toString;function e(s,o){return s==null?!1:Object.prototype.hasOwnProperty.call(s,o)}function r(s){if(!s||a(s)&&s.length===0)return!0;if(typeof s!="string"){for(var o in s)if(e(s,o))return!1;return!0}return!1}function n(s){return t.call(s)}function i(s){return typeof s=="object"&&n(s)==="[object Object]"}var a=Array.isArray||function(s){return t.call(s)==="[object Array]"};function p(s){return typeof s=="boolean"||n(s)==="[object Boolean]"}function c(s){var o=parseInt(s);return o.toString()===s?o:s}function b(s){s=s||{};var o=function(v){return Object.keys(o).reduce(function(l,y){return y==="create"||typeof o[y]=="function"&&(l[y]=o[y].bind(o,v)),l},{})},g;s.includeInheritedProps?g=function(){return!0}:g=function(v,l){return typeof l=="number"&&Array.isArray(v)||e(v,l)};function h(v,l){if(g(v,l))return v[l]}function B(v,l,y,x){if(typeof l=="number"&&(l=[l]),!l||l.length===0)return v;if(typeof l=="string")return B(v,l.split(".").map(c),y,x);var F=l[0],S=h(v,F);if(s.includeInheritedProps&&(F==="__proto__"||F==="constructor"&&typeof S=="function"))throw new Error("For security reasons, object's magic properties cannot be set");return l.length===1?((S===void 0||!x)&&(v[F]=y),S):(S===void 0&&(typeof l[1]=="number"?v[F]=[]:v[F]={}),B(v[F],l.slice(1),y,x))}return o.has=function(v,l){if(typeof l=="number"?l=[l]:typeof l=="string"&&(l=l.split(".")),!l||l.length===0)return!!v;for(var y=0;y<l.length;y++){var x=c(l[y]);if(typeof x=="number"&&a(v)&&x<v.length||(s.includeInheritedProps?x in Object(v):e(v,x)))v=v[x];else return!1}return!0},o.ensureExists=function(v,l,y){return B(v,l,y,!0)},o.set=function(v,l,y,x){return B(v,l,y,x)},o.insert=function(v,l,y,x){var F=o.get(v,l);x=~~x,a(F)||(F=[],o.set(v,l,F)),F.splice(x,0,y)},o.empty=function(v,l){if(!r(l)&&v!=null){var y,x;if(!!(y=o.get(v,l))){if(typeof y=="string")return o.set(v,l,"");if(p(y))return o.set(v,l,!1);if(typeof y=="number")return o.set(v,l,0);if(a(y))y.length=0;else if(i(y))for(x in y)g(y,x)&&delete y[x];else return o.set(v,l,null)}}},o.push=function(v,l){var y=o.get(v,l);a(y)||(y=[],o.set(v,l,y)),y.push.apply(y,Array.prototype.slice.call(arguments,2))},o.coalesce=function(v,l,y){for(var x,F=0,S=l.length;F<S;F++)if((x=o.get(v,l[F]))!==void 0)return x;return y},o.get=function(v,l,y){if(typeof l=="number"&&(l=[l]),!l||l.length===0)return v;if(v==null)return y;if(typeof l=="string")return o.get(v,l.split("."),y);var x=c(l[0]),F=h(v,x);return F===void 0?y:l.length===1?F:o.get(v[x],l.slice(1),y)},o.del=function(l,y){if(typeof y=="number"&&(y=[y]),l==null||r(y))return l;if(typeof y=="string")return o.del(l,y.split("."));var x=c(y[0]);if(!g(l,x))return l;if(y.length===1)a(l)?l.splice(x,1):delete l[x];else return o.del(l[x],y.slice(1));return l},o}var w=b();return w.create=b,w.withInheritedProps=b({includeInheritedProps:!0}),w})});var Wr=R((ft,dt)=>{(function(t,e){typeof ft=="object"&&typeof dt!="undefined"?dt.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis!="undefined"?globalThis:t||self,t.Compressor=e())})(ft,function(){"use strict";function t(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}function e(f,u){for(var d=0;d<u.length;d++){var m=u[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(f,m.key,m)}}function r(f,u,d){return u&&e(f.prototype,u),d&&e(f,d),f}function n(f,u,d){return u in f?Object.defineProperty(f,u,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[u]=d,f}function i(){return i=Object.assign||function(f){for(var u=1;u<arguments.length;u++){var d=arguments[u];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(f[m]=d[m])}return f},i.apply(this,arguments)}function a(f,u){var d=Object.keys(f);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(f);u&&(m=m.filter(function(E){return Object.getOwnPropertyDescriptor(f,E).enumerable})),d.push.apply(d,m)}return d}function p(f){for(var u=1;u<arguments.length;u++){var d=arguments[u]!=null?arguments[u]:{};u%2?a(Object(d),!0).forEach(function(m){n(f,m,d[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(d)):a(Object(d)).forEach(function(m){Object.defineProperty(f,m,Object.getOwnPropertyDescriptor(d,m))})}return f}function c(f,u,d){return d={path:u,exports:{},require:function(m,E){return b(m,E??d.path)}},f(d,d.exports),d.exports}function b(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var w=c(function(f){typeof window!="undefined"&&function(u){var d=u.HTMLCanvasElement&&u.HTMLCanvasElement.prototype,m=u.Blob&&function(){try{return Boolean(new Blob)}catch(A){return!1}}(),E=m&&u.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(A){return!1}}(),C=u.BlobBuilder||u.WebKitBlobBuilder||u.MozBlobBuilder||u.MSBlobBuilder,q=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,O=(m||C)&&u.atob&&u.ArrayBuffer&&u.Uint8Array&&function(A){var _,U,P,K,z,T,W,k,D;if(_=A.match(q),!_)throw new Error("invalid data URI");for(U=_[2]?_[1]:"text/plain"+(_[3]||";charset=US-ASCII"),P=!!_[4],K=A.slice(_[0].length),P?z=atob(K):z=decodeURIComponent(K),T=new ArrayBuffer(z.length),W=new Uint8Array(T),k=0;k<z.length;k+=1)W[k]=z.charCodeAt(k);return m?new Blob([E?W:T],{type:U}):(D=new C,D.append(T),D.getBlob(U))};u.HTMLCanvasElement&&!d.toBlob&&(d.mozGetAsFile?d.toBlob=function(A,_,U){var P=this;setTimeout(function(){U&&d.toDataURL&&O?A(O(P.toDataURL(_,U))):A(P.mozGetAsFile("blob",_))})}:d.toDataURL&&O&&(d.msToBlob?d.toBlob=function(A,_,U){var P=this;setTimeout(function(){(_&&_!=="image/png"||U)&&d.toDataURL&&O?A(O(P.toDataURL(_,U))):A(P.msToBlob(_))})}:d.toBlob=function(A,_,U){var P=this;setTimeout(function(){A(O(P.toDataURL(_,U)))})})),f.exports?f.exports=O:u.dataURLtoBlob=O}(window)}),s=function(u){return typeof Blob=="undefined"?!1:u instanceof Blob||Object.prototype.toString.call(u)==="[object Blob]"},o={strict:!0,checkOrientation:!0,maxWidth:Infinity,maxHeight:Infinity,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},g=typeof window!="undefined"&&typeof window.document!="undefined",h=g?window:{},B=Array.prototype.slice;function v(f){return Array.from?Array.from(f):B.call(f)}var l=/^image\/.+$/;function y(f){return l.test(f)}function x(f){var u=y(f)?f.substr(6):"";return u==="jpeg"&&(u="jpg"),".".concat(u)}var F=String.fromCharCode;function S(f,u,d){var m="",E;for(d+=u,E=u;E<d;E+=1)m+=F(f.getUint8(E));return m}var G=h.btoa;function ie(f,u){for(var d=[],m=8192,E=new Uint8Array(f);E.length>0;)d.push(F.apply(null,v(E.subarray(0,m)))),E=E.subarray(m);return"data:".concat(u,";base64,").concat(G(d.join("")))}function le(f){var u=new DataView(f),d;try{var m,E,C;if(u.getUint8(0)===255&&u.getUint8(1)===216)for(var q=u.byteLength,O=2;O+1<q;){if(u.getUint8(O)===255&&u.getUint8(O+1)===225){E=O;break}O+=1}if(E){var A=E+4,_=E+10;if(S(u,A,4)==="Exif"){var U=u.getUint16(_);if(m=U===18761,(m||U===19789)&&u.getUint16(_+2,m)===42){var P=u.getUint32(_+4,m);P>=8&&(C=_+P)}}}if(C){var K=u.getUint16(C,m),z,T;for(T=0;T<K;T+=1)if(z=C+T*12+2,u.getUint16(z,m)===274){z+=8,d=u.getUint16(z,m),u.setUint16(z,1,m);break}}}catch(W){d=1}return d}function J(f){var u=0,d=1,m=1;switch(f){case 2:d=-1;break;case 3:u=-180;break;case 4:m=-1;break;case 5:u=90,m=-1;break;case 6:u=90;break;case 7:u=90,d=-1;break;case 8:u=-90;break}return{rotate:u,scaleX:d,scaleY:m}}var ce=/\.\d*(?:0|9){12}\d*$/;function ge(f){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return ce.test(f)?Math.round(f*u)/u:f}var Me=h.ArrayBuffer,ve=h.FileReader,X=h.URL||h.webkitURL,we=/\.\w+$/,L=h.Compressor,Z=function(){function f(u,d){t(this,f),this.file=u,this.image=new Image,this.options=p(p({},o),d),this.aborted=!1,this.result=null,this.init()}return r(f,[{key:"init",value:function(){var d=this,m=this.file,E=this.options;if(!s(m)){this.fail(new Error("The first argument must be a File or Blob object."));return}var C=m.type;if(!y(C)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!X||!ve){this.fail(new Error("The current browser does not support image compression."));return}if(Me||(E.checkOrientation=!1),X&&!E.checkOrientation)this.load({url:X.createObjectURL(m)});else{var q=new ve,O=E.checkOrientation&&C==="image/jpeg";this.reader=q,q.onload=function(A){var _=A.target,U=_.result,P={};if(O){var K=le(U);K>1||!X?(P.url=ie(U,C),K>1&&i(P,J(K))):P.url=X.createObjectURL(m)}else P.url=U;d.load(P)},q.onabort=function(){d.fail(new Error("Aborted to read the image with FileReader."))},q.onerror=function(){d.fail(new Error("Failed to read the image with FileReader."))},q.onloadend=function(){d.reader=null},O?q.readAsArrayBuffer(m):q.readAsDataURL(m)}}},{key:"load",value:function(d){var m=this,E=this.file,C=this.image;C.onload=function(){m.draw(p(p({},d),{},{naturalWidth:C.naturalWidth,naturalHeight:C.naturalHeight}))},C.onabort=function(){m.fail(new Error("Aborted to load the image."))},C.onerror=function(){m.fail(new Error("Failed to load the image."))},h.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(h.navigator.userAgent)&&(C.crossOrigin="anonymous"),C.alt=E.name,C.src=d.url}},{key:"draw",value:function(d){var m=this,E=d.naturalWidth,C=d.naturalHeight,q=d.rotate,O=q===void 0?0:q,A=d.scaleX,_=A===void 0?1:A,U=d.scaleY,P=U===void 0?1:U,K=this.file,z=this.image,T=this.options,W=document.createElement("canvas"),k=W.getContext("2d"),D=E/C,pt=Math.abs(O)%180==90,Q=Math.max(T.maxWidth,0)||Infinity,ee=Math.max(T.maxHeight,0)||Infinity,te=Math.max(T.minWidth,0)||0,re=Math.max(T.minHeight,0)||0,N=Math.max(T.width,0)||E,I=Math.max(T.height,0)||C;if(pt){var mt=[ee,Q];Q=mt[0],ee=mt[1];var gt=[re,te];te=gt[0],re=gt[1];var vt=[I,N];N=vt[0],I=vt[1]}Q<Infinity&&ee<Infinity?ee*D>Q?ee=Q/D:Q=ee*D:Q<Infinity?ee=Q/D:ee<Infinity&&(Q=ee*D),te>0&&re>0?re*D>te?re=te/D:te=re*D:te>0?re=te/D:re>0&&(te=re*D),I*D>N?I=N/D:N=I*D,N=Math.floor(ge(Math.min(Math.max(N,te),Q))),I=Math.floor(ge(Math.min(Math.max(I,re),ee)));var Kr=-N/2,Gr=-I/2,Yr=N,Jr=I;if(pt){var yt=[I,N];N=yt[0],I=yt[1]}W.width=N,W.height=I,y(T.mimeType)||(T.mimeType=K.type);var bt="transparent";if(K.size>T.convertSize&&T.mimeType==="image/png"&&(bt="#fff",T.mimeType="image/jpeg"),k.fillStyle=bt,k.fillRect(0,0,N,I),T.beforeDraw&&T.beforeDraw.call(this,k,W),!this.aborted&&(k.save(),k.translate(N/2,I/2),k.rotate(O*Math.PI/180),k.scale(_,P),k.drawImage(z,Kr,Gr,Yr,Jr),k.restore(),T.drew&&T.drew.call(this,k,W),!this.aborted)){var Ct=function(Zr){m.aborted||m.done({naturalWidth:E,naturalHeight:C,result:Zr})};W.toBlob?W.toBlob(Ct,T.mimeType,T.quality):Ct(w(W.toDataURL(T.mimeType,T.quality)))}}},{key:"done",value:function(d){var m=d.naturalWidth,E=d.naturalHeight,C=d.result,q=this.file,O=this.image,A=this.options;if(X&&!A.checkOrientation&&X.revokeObjectURL(O.src),C)if(A.strict&&C.size>q.size&&A.mimeType===q.type&&!(A.width>m||A.height>E||A.minWidth>m||A.minHeight>E))C=q;else{var _=new Date;C.lastModified=_.getTime(),C.lastModifiedDate=_,C.name=q.name,C.name&&C.type!==q.type&&(C.name=C.name.replace(we,x(C.type)))}else C=q;this.result=C,A.success&&A.success.call(this,C)}},{key:"fail",value:function(d){var m=this.options;if(m.error)m.error.call(this,d);else throw d}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=L,f}},{key:"setDefaults",value:function(d){i(o,d)}}]),f}();return Z})});wt(exports);sn(exports,{default:()=>xi});var ue=ye(require("obsidian")),$r=ye(Nr()),Vr=ye(jr());var ne=ye(require("obsidian")),ct=class extends ne.PluginSettingTab{constructor(e,r){super(e,r);this.plugin=r}display(){let{containerEl:e}=this;e.empty(),e.createEl("h3",{text:"Image Hosting Setting"}),new ne.Setting(e).setName("Api Endpoint").setDesc("The endpoint of the image hosting api.").addText(r=>{r.setPlaceholder("").setValue(this.plugin.settings.apiEndpoint).onChange(async n=>{this.plugin.settings.apiEndpoint=n,await this.plugin.saveSettings()})}),new ne.Setting(e).setName("Upload Header").setDesc("The header of upload request in json format.").addTextArea(r=>{r.setPlaceholder("").setValue(this.plugin.settings.uploadHeader).onChange(async n=>{try{this.plugin.settings.uploadHeader=n,await this.plugin.saveSettings()}catch(i){console.log(i)}}),r.inputEl.rows=5,r.inputEl.cols=40}),new ne.Setting(e).setName("Upload Body").setDesc("The body of upload request in json format. Do NOT change it unless you know what you are doing.").addTextArea(r=>{r.setPlaceholder("").setValue(this.plugin.settings.uploadBody).onChange(async n=>{try{this.plugin.settings.uploadBody=n,await this.plugin.saveSettings()}catch(i){console.log(i)}}),r.inputEl.rows=5,r.inputEl.cols=40}),new ne.Setting(e).setName("Image Url Path").setDesc("The path to the image url in http response.").addText(r=>{r.setPlaceholder("").setValue(this.plugin.settings.imageUrlPath).onChange(async n=>{this.plugin.settings.imageUrlPath=n,await this.plugin.saveSettings()})}),new ne.Setting(e).setName("Enable Resize").setDesc("Resize the image before uploading").addToggle(r=>{r.setValue(this.plugin.settings.enableResize).onChange(async n=>{this.plugin.settings.enableResize=n,this.display()})}),this.plugin.settings.enableResize&&new ne.Setting(e).setName("Max Width").setDesc("The image wider than this will be resized by the natural aspect ratio").addText(r=>{r.setPlaceholder("").setValue(this.plugin.settings.maxWidth.toString()).onChange(async n=>{this.plugin.settings.maxWidth=parseInt(n),await this.plugin.saveSettings()})})}},zr=ct;var Xr=ye(Wr()),wi={apiEndpoint:null,uploadHeader:null,uploadBody:'{"image": "$FILE"}',imageUrlPath:null,maxWidth:4096,enableResize:!1},ht=class extends ue.Plugin{constructor(){super(...arguments);this.cmAndHandlersMap=new Map}getEditor(){let e=this.app.workspace.getActiveViewOfType(ue.MarkdownView);return e?e.editor:null}backupOriginalHandlers(e){return this.cmAndHandlersMap.has(e)||this.cmAndHandlersMap.set(e,{drop:e._handlers.drop[0],paste:e._handlers.paste[0]}),this.cmAndHandlersMap.get(e)}setupPasteHandler(){this.registerCodeMirror(e=>{let r=this.backupOriginalHandlers(e);e._handlers.paste[0]=async(n,i)=>{let{files:a}=i.clipboardData;if(a.length==0||!a[0].type.startsWith("image"))r.paste(n,i);else if(this.settings.apiEndpoint&&this.settings.uploadHeader&&this.settings.imageUrlPath)for(let p of a){let b=`![uploading...](${(Math.random()*10086).toString(36).substr(0,8)})
`;this.getEditor().replaceSelection(b);let w=this.settings.maxWidth;this.settings.enableResize&&(p=await new Promise((h,B)=>{new Xr.default(p,{maxWidth:w,success:h,error:B})}));let s=new FormData,o=JSON.parse(this.settings.uploadBody);for(let g in o)o[g]=="$FILE"?s.append(g,p,p.name):s.append(g,o[g]);$r.default.post(this.settings.apiEndpoint,s,{headers:JSON.parse(this.settings.uploadHeader)}).then(g=>{let B=`![](${Vr.default.get(g.data,this.settings.imageUrlPath)})`;this.replaceText(this.getEditor(),b,B)},g=>{new ue.Notice(g,5e3),console.log(g);let h=new DataTransfer;h.items.add(p);let B=new ClipboardEvent("paste",{clipboardData:h});r.paste(n,B)})}else new ue.Notice("Image Uploader: Please check the image hosting settings."),r.paste(n,i)}})}replaceText(e,r,n){r=r.trim();let i=e.getValue().split(`
`);for(let a=0;a<i.length;a++){let p=i[a].indexOf(r);if(p!==-1){let c={line:a,ch:p},b={line:a,ch:p+r.length};e.replaceRange(n,c,b);break}}}async onload(){console.log("loading Image Uploader"),await this.loadSettings(),this.setupPasteHandler(),this.addSettingTab(new zr(this.app,this))}onunload(){this.cmAndHandlersMap.forEach((e,r)=>{r._handlers.paste[0]=e.paste}),console.log("unloading Image Uploader")}async loadSettings(){this.settings=Object.assign({},wi,await this.loadData())}async saveSettings(){await this.saveData(this.settings)}},xi=ht;
/*!
 * Compressor.js v1.0.7
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-11-28T07:13:17.754Z
 */
