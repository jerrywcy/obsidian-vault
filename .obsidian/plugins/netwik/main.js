/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

const wrapAround = (value, size) => {
    return ((value % size) + size) % size;
};
class Suggest {
    constructor(owner, containerEl, scope) {
        this.owner = owner;
        this.containerEl = containerEl;
        containerEl.on("click", ".suggestion-item", this.onSuggestionClick.bind(this));
        containerEl.on("mousemove", ".suggestion-item", this.onSuggestionMouseover.bind(this));
        scope.register([], "ArrowUp", (event) => {
            if (!event.isComposing) {
                this.setSelectedItem(this.selectedItem - 1, true);
                return false;
            }
        });
        scope.register([], "ArrowDown", (event) => {
            if (!event.isComposing) {
                this.setSelectedItem(this.selectedItem + 1, true);
                return false;
            }
        });
        const selectItem = (event) => {
            if (!event.isComposing) {
                this.useSelectedItem(event);
                return false;
            }
        };
        scope.register([], "Enter", selectItem);
        scope.register(["Shift"], "Enter", selectItem);
    }
    onSuggestionClick(event, el) {
        event.preventDefault();
        const item = this.suggestions.indexOf(el);
        this.setSelectedItem(item, false);
        this.useSelectedItem(event);
    }
    onSuggestionMouseover(_event, el) {
        const item = this.suggestions.indexOf(el);
        this.setSelectedItem(item, false);
    }
    setSuggestions(values) {
        this.containerEl.empty();
        const suggestionEls = [];
        values.forEach((value) => {
            const suggestionEl = this.containerEl.createDiv("suggestion-item");
            this.owner.renderSuggestion(value, suggestionEl);
            suggestionEls.push(suggestionEl);
        });
        this.values = values;
        this.suggestions = suggestionEls;
        this.setSelectedItem(0, false);
    }
    useSelectedItem(event) {
        const currentValue = this.values[this.selectedItem];
        if (currentValue) {
            this.owner.selectSuggestion(currentValue, event);
        }
        else if (event.shiftKey) {
            this.owner.selectSuggestion(currentValue, event);
        }
    }
    setSelectedItem(selectedIndex, scrollIntoView) {
        const normalizedIndex = wrapAround(selectedIndex, this.suggestions.length);
        const prevSelectedSuggestion = this.suggestions[this.selectedItem];
        const selectedSuggestion = this.suggestions[normalizedIndex];
        prevSelectedSuggestion === null || prevSelectedSuggestion === void 0 ? void 0 : prevSelectedSuggestion.removeClass("is-selected");
        selectedSuggestion === null || selectedSuggestion === void 0 ? void 0 : selectedSuggestion.addClass("is-selected");
        this.selectedItem = normalizedIndex;
        if (scrollIntoView) {
            selectedSuggestion.scrollIntoView(false);
        }
    }
}

function checkForInputPhrase(cmEditor, pos, phrase) {
    const from = {
        line: pos.line,
        ch: pos.ch - phrase.length,
    };
    if (cmEditor.getRange(from, pos) !== phrase) {
        return false;
    }
    const precedingChar = cmEditor.getRange({
        line: pos.line,
        ch: from.ch - 1,
    }, from);
    return !precedingChar || /[^`a-zA-Z0-9]/.test(precedingChar);
}
function isCursorBeforePos(pos, cursor) {
    if (pos.line === cursor.line) {
        return cursor.ch < pos.ch;
    }
    return cursor.line < pos.line;
}
class CodeMirrorSuggest {
    constructor(app, triggerPhrase) {
        this.triggerPhrase = triggerPhrase;
        this.app = app;
        this.scope = new obsidian.Scope();
        this.suggestEl = createDiv({ cls: ["suggestion-container", "netwik-suggestion"] });
        const suggestion = this.suggestEl.createDiv("suggestion");
        this.instructionsEl = this.suggestEl.createDiv("prompt-instructions");
        this.suggest = new Suggest(this, suggestion, this.scope);
        this.scope.register([], "Escape", this.close.bind(this));
    }
    setInstructions(createInstructionsFn) {
        this.instructionsEl.empty();
        createInstructionsFn(this.instructionsEl);
    }
    update(cmEditor, changeObj) {
        var _a;
        return __awaiter(this, void 0, void 0, function* () {
            if (this.cmEditor !== cmEditor) {
                (_a = this.suggestEl) === null || _a === void 0 ? void 0 : _a.detach();
            }
            this.cmEditor = cmEditor;
            const cursorPos = cmEditor.getCursor();
            // autosuggest is open
            if (this.suggestEl.parentNode) {
                if (isCursorBeforePos(this.startPos, cursorPos)) {
                    this.close();
                    return false;
                }
                yield this.attachAtCursor();
            }
            else {
                if (changeObj.text.length === 1 && // ignore multi-cursors
                    checkForInputPhrase(this.cmEditor, cursorPos, this.triggerPhrase) &&
                    !document.querySelector(".suggestion-container") // don't trigger multiple autosuggests
                ) {
                    this.startPos = cursorPos;
                    this.open();
                    yield this.attachAtCursor();
                }
            }
            return false;
        });
    }
    getStartPos() {
        return {
            line: this.startPos.line,
            ch: this.startPos.ch - this.triggerPhrase.length,
        };
    }
    getInputStr() {
        // return string from / to cursor
        const cursor = this.cmEditor.getCursor();
        const line = this.cmEditor.getLine(cursor.line);
        return line.substring(this.startPos.ch, cursor.ch);
    }
    attachAtCursor() {
        return __awaiter(this, void 0, void 0, function* () {
            const inputStr = this.getInputStr();
            const suggestions = yield this.getSuggestions(inputStr);
            if (this.startPos) {
                this.suggest.setSuggestions(suggestions);
                this.cmEditor.addWidget(this.cmEditor.getCursor(), this.suggestEl, true);
            }
        });
    }
    open() {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.app.keymap.pushScope(this.scope);
    }
    close() {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.app.keymap.popScope(this.scope);
        this.startPos = null;
        this.suggest.setSuggestions([]);
        this.suggestEl.detach();
    }
    getSuggestions(inputStr) {
        return __awaiter(this, void 0, void 0, function* () { return []; });
    }
    ;
}

class BlockSuggest extends CodeMirrorSuggest {
    constructor(ctx) {
        super(ctx.app, ctx.settings.triggerPhrase);
        this.ctx = ctx;
        this.updateInstructions();
    }
    open() {
        super.open();
        // update the instructions since they are settings-dependent
        this.updateInstructions();
    }
    updateInstructions() {
        this.setInstructions((containerEl) => {
            containerEl.createDiv("prompt-instructions", (instructions) => {
                instructions.createDiv({ cls: "prompt-instruction" }, (instruction) => {
                    instruction.createSpan({
                        cls: "prompt-instruction-command",
                        text: "Shift",
                    });
                    instruction.createSpan({
                        text: "and Enter to create note",
                    });
                });
            });
        });
    }
    getSuggestions(inputStr) {
        return __awaiter(this, void 0, void 0, function* () {
            const suggestions = yield this.ctx.api.getSuggestions(inputStr);
            return [
                // {
                //     title: inputStr,
                //     _id: '_create'
                // },
                ...suggestions
            ];
        });
    }
    renderSuggestion(suggestion, el) {
        el.setText(suggestion.title);
    }
    insertLink(path) {
        const head = this.getStartPos();
        const anchor = this.cmEditor.getCursor();
        let insertingValue = `[[${path}]]`;
        this.cmEditor.replaceRange(insertingValue, head, anchor);
        this.close();
    }
    pathFromBlock(block) {
        const name = this.ctx.base.mdBase.nameFromBlock(block);
        return this.ctx.base.mdBase.pathByName(name).match('(.+)\.md')[1];
    }
    selectSuggestion(suggestion, event) {
        if (suggestion) {
            this.ctx.base.downloadFile(suggestion._id);
            this.insertLink(this.pathFromBlock(suggestion));
        }
        else {
            // Press Shift + Enter
            const title = (suggestion === null || suggestion === void 0 ? void 0 : suggestion.title) || this.getInputStr();
            this.ctx.base.createFile({ title: title }).then(block => {
                this.insertLink(this.pathFromBlock(block));
            });
        }
    }
}

class Context {
}

var HTTP_CODE;
(function (HTTP_CODE) {
    HTTP_CODE[HTTP_CODE["GONE"] = 410] = "GONE";
})(HTTP_CODE || (HTTP_CODE = {}));
class APIError extends Error {
    constructor(code) {
        super(`API Error: ${code}`);
        this.code = code;
    }
}
class API {
    constructor(baseURL) {
        this.getSuggestions = ((query) => __awaiter(this, void 0, void 0, function* () {
            try {
                const url = `${this.baseURL}/suggestions/?query=${query}`;
                const response = yield fetch(url);
                const json = yield response.json();
                return json.suggestions;
            }
            catch (_a) {
                return [];
            }
        }));
        this.uploadBlock = (block) => __awaiter(this, void 0, void 0, function* () {
            const url = `${this.baseURL}/block/`;
            const response = yield fetch(url, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(block)
            });
            return yield API.getResponseJson(response);
        });
        this.createBlock = (block) => __awaiter(this, void 0, void 0, function* () {
            const url = `${this.baseURL}/block/`;
            const response = yield fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(block)
            });
            return yield API.getResponseJson(response);
        });
        this.downloadBlock = (_id) => __awaiter(this, void 0, void 0, function* () {
            const url = `${this.baseURL}/block/?_id=${_id}`;
            const response = yield fetch(url);
            return yield API.getResponseJson(response);
        });
        this.deleteBlock = (_id) => __awaiter(this, void 0, void 0, function* () {
            const url = `${this.baseURL}/block/?_id=${_id}`;
            yield fetch(url, {
                method: 'DELETE'
            });
        });
        this.getBlocks = (ids) => __awaiter(this, void 0, void 0, function* () {
            return API.getResponseJson(yield fetch(`${this.baseURL}/blocks/?ids=${ids.join(',')}`));
        });
        this.baseURL = baseURL;
    }
    static getResponseJson(response) {
        return __awaiter(this, void 0, void 0, function* () {
            if (response.status > 299) {
                throw new APIError(HTTP_CODE.GONE);
            }
            return response.json();
        });
    }
}

class ModulesRenderer {
    constructor(block) {
        this.block = block;
    }
    genMeta(aliases) {
        if (!aliases.length) {
            return '';
        }
        return `---\naliases: [${aliases.join(', ')}]\n---\n`;
    }
    link(value, options) {
        return `[[${value}]]`;
    }
}
class ModulesParser {
    constructor(text, block) {
        this.extractMatch = (pattern) => {
            const match = this.text.match(pattern);
            if (!match) {
                return undefined;
            }
            return match[1];
        };
        this.text = text;
        this.block = block;
    }
    textCopy() {
        return `${this.text}`;
    }
    title() {
        return this.extractMatch(ModulesParser.regex.title);
    }
    desc() {
        return this.extractMatch(ModulesParser.regex.desc);
    }
    body() {
        let text = this.textCopy();
        text = text.replace(/# .+\n/, '');
        return text;
    }
}
ModulesParser.regex = {
    title: /# (.+)/,
    desc: /# *.+\n(.+)*/
};
class MarkdownAdapter {
    constructor() {
    }
    toMarkdown(block) {
        var _a;
        let text = '';
        const renderer = new ModulesRenderer(block);
        if ((_a = block.create) === null || _a === void 0 ? void 0 : _a.filename) {
            text += renderer.genMeta([block.create.filename].filter(alias => block.title !== alias));
        }
        if (block.title) {
            text += `# ${block.title}\n`;
        }
        if (block.desc) {
            text += block.desc + '\n';
        }
        if (block.body) {
            text += block.body;
        }
        return text;
    }
    toBlock(text, localBlock) {
        const block = {};
        const parser = new ModulesParser(text, block);
        for (const module of MarkdownAdapter.modules) {
            // @ts-ignore
            if (parser[module] !== undefined) {
                // @ts-ignore
                const moduleValue = parser[module]();
                if (moduleValue) {
                    // @ts-ignore
                    block[module] = moduleValue;
                }
            }
        }
        return block;
    }
}
MarkdownAdapter.modules = [
    'title', 'body', 'create'
];

class LocalMdBase {
    constructor(ctx) {
        this.ctx = ctx;
        this.basePath = 'w';
    }
    checkBaseFolder() {
        return __awaiter(this, void 0, void 0, function* () {
            // If root folder does not exist, creates it.
            const stat = this.ctx.app.vault.adapter.stat(obsidian.normalizePath(this.basePath));
            if (!stat) {
                yield this.ctx.app.vault.createFolder(this.basePath);
                new obsidian.Notice('Netwik storage created!');
            }
        });
    }
    idByName(name) {
        let match = name.match(/(\w+)\W/);
        if (!match) {
            match = name.match(/^(\w+)$/);
            return match && match[1];
        }
        return match[1];
    }
    nameByPath(path) {
        const match = path.match(/\/([^/]+)\.\w+/);
        if (!match) {
            return undefined;
        }
        return match[1];
    }
    nameFromBlock(block) {
        return `${block._id} ${block.title}`;
    }
    idByPath(path) {
        const name = this.nameByPath(path);
        return name && this.idByName(name);
    }
    pathByName(name) {
        return `${this.basePath}/${name}.md`;
    }
    pathById(_id) {
        return this.pathsById(_id)[0];
    }
    pathsById(_id) {
        return this.ctx.app.vault.getMarkdownFiles()
            .filter(file => this.isControlledPath(file.path) && this.idByPath(file.path) === _id)
            .map(file => file.path);
    }
    getNamesList() {
        return __awaiter(this, void 0, void 0, function* () {
            const files = yield this.ctx.app.vault.adapter.list(obsidian.normalizePath(this.basePath));
            const mdFiles = files.files.filter(path => path.contains('.md'));
            return mdFiles.map(path => this.nameByPath(path));
        });
    }
    readCurrent(file) {
        return __awaiter(this, void 0, void 0, function* () {
            return yield this.ctx.app.vault.cachedRead(file);
        });
    }
    write(name, text) {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.ctx.app.vault.adapter.write(obsidian.normalizePath(this.pathByName(name)), text);
        });
    }
    read(name) {
        return __awaiter(this, void 0, void 0, function* () {
            return yield this.ctx.app.vault.adapter.read(obsidian.normalizePath(this.pathByName(name)));
        });
    }
    delete(path) {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.ctx.app.vault.delete(this.ctx.app.vault.getAbstractFileByPath(path));
        });
    }
    isControlledPath(path) {
        const pathPrefix = this.basePath + '/';
        return path.includes(pathPrefix) && path.includes('.md');
    }
}

class LocalJsonBase {
    constructor(ctx) {
        this.ctx = ctx;
        this.basePath = 'w/.blocks';
    }
    checkBaseFolder() {
        return __awaiter(this, void 0, void 0, function* () {
            const stat = yield this.ctx.app.vault.adapter.stat(obsidian.normalizePath(this.basePath));
            if (!stat) {
                yield this.ctx.app.vault.createFolder(this.basePath);
            }
        });
    }
    getIdsList() {
        return __awaiter(this, void 0, void 0, function* () {
            const files = yield this.ctx.app.vault.adapter.list(obsidian.normalizePath(this.basePath));
            return files.files.map(path => this.idByPath(path)).filter(x => !!x);
        });
    }
    pathById(_id) {
        return `${this.basePath}/${_id}.json`;
    }
    idByPath(path) {
        const match = path.match(/\/([^/]+)\.\w+/);
        return match && match[1];
    }
    write(data) {
        return __awaiter(this, void 0, void 0, function* () {
            const filePath = this.pathById(data._id);
            const dataString = JSON.stringify(data);
            const stat = yield this.ctx.app.vault.adapter.stat(obsidian.normalizePath(filePath));
            if (!stat) {
                yield this.ctx.app.vault.create(filePath, dataString);
            }
            else {
                yield this.ctx.app.vault.adapter.write(obsidian.normalizePath(filePath), dataString);
            }
        });
    }
    read(_id) {
        return __awaiter(this, void 0, void 0, function* () {
            const filePath = this.pathById(_id);
            const stat = yield this.ctx.app.vault.adapter.stat(obsidian.normalizePath(filePath));
            if (!stat) {
                return null;
            }
            else {
                return JSON.parse(yield this.ctx.app.vault.adapter.read(obsidian.normalizePath(filePath)));
            }
        });
    }
    delete(_id) {
        return __awaiter(this, void 0, void 0, function* () {
            const path = this.pathById(_id);
            yield this.ctx.app.vault.adapter.remove(obsidian.normalizePath(path));
        });
    }
}

const capitalize = (s) => {
    return s[0].toUpperCase() + s.slice(1);
};

class Base {
    constructor(ctx) {
        this.fileModifyHandle = (file) => {
            var _a;
            if (file && this.mdBase.isControlledPath(file.path) && file.path === ((_a = this.ctx.app.workspace.getActiveFile()) === null || _a === void 0 ? void 0 : _a.path)
                && !this.ignoreModifyState) {
                this.saveCurrentFile();
            }
        };
        this.fileCreateHandle = (file) => {
            if (file && this.mdBase.isControlledPath(file.path) && !this.ignoreModifyState) {
                this.indexLocalFile(file.path);
            }
        };
        this.fileRenameHandle = (file, oldPath) => {
            if (file && this.mdBase.isControlledPath(file.path) && !this.ignoreModifyState
                && !this.mdBase.isControlledPath(oldPath)) {
                this.indexLocalFile(file.path);
            }
        };
        this.fileDeleteHandle = (file) => {
            if (file && this.mdBase.isControlledPath(file.path) && !this.ignoreModifyState) {
                this.jsonBase.delete(this.mdBase.idByName(file.basename));
            }
        };
        this.fileOpenHandle = (file) => {
            if (file && this.mdBase.isControlledPath(file.path) && !this.ignoreModifyState) {
                this.updateMd(this.mdBase.idByName(file.basename));
            }
        };
        this.ctx = ctx;
        this.mdBase = new LocalMdBase(ctx);
        this.jsonBase = new LocalJsonBase(ctx);
        this.ignoreModifyState = false;
        this.syncBase();
        this.checkFileStructure();
        ctx.app.vault.on('modify', this.fileModifyHandle);
        ctx.app.vault.on('create', this.fileCreateHandle);
        ctx.app.vault.on('delete', this.fileDeleteHandle);
        ctx.app.vault.on('rename', this.fileRenameHandle);
        this.ctx.app.workspace.on('file-open', this.fileOpenHandle);
    }
    onunload() {
        this.ctx.app.vault.off('modify', this.fileModifyHandle);
        this.ctx.app.vault.off('create', this.fileCreateHandle);
        this.ctx.app.vault.off('rename', this.fileRenameHandle);
        this.ctx.app.vault.off('delete', this.fileDeleteHandle);
    }
    updateMd(_id) {
        return __awaiter(this, void 0, void 0, function* () {
            if (this.mdBase.pathsById(_id).length == 1) {
                const block = yield this.jsonBase.read(_id);
                if (!block) {
                    return;
                }
                const text = this.ctx.mdAdapter.toMarkdown(block);
                if (!this.ignoreModifyState) {
                    yield this.mdBase.write(this.mdBase.nameByPath(this.mdBase.pathById(_id)), text);
                }
            }
        });
    }
    createBlockFromFile(name) {
        return __awaiter(this, void 0, void 0, function* () {
            let block = this.blockByName(name);
            const text = yield this.mdBase.read(name);
            block = Object.assign(Object.assign({}, block), this.ctx.mdAdapter.toBlock(text, {}));
            yield this.createFile(block, this.mdBase.pathByName(name));
        });
    }
    syncBase() {
        return __awaiter(this, void 0, void 0, function* () {
            // Make local base consistent with remote
            let mdNames = yield this.mdBase.getNamesList();
            let mdIds = new Set();
            for (let name of mdNames) {
                const _id = this.mdBase.idByName(name);
                if (!_id) {
                    this.createBlockFromFile(name);
                }
                else {
                    if (mdIds.has(_id)) {
                        this.ignoreModifyState = true;
                        yield this.mdBase.delete(this.mdBase.pathByName(name));
                        this.ignoreModifyState = false;
                    }
                    else {
                        mdIds.add(_id);
                    }
                }
            }
            let jsonIds = yield this.jsonBase.getIdsList();
            const remoteBlocks = yield this.ctx.api.getBlocks(jsonIds);
            const remoteBlocksDict = {};
            for (const block of remoteBlocks) {
                remoteBlocksDict[block._id] = block;
            }
            const remoteIds = remoteBlocks.map(block => block._id);
            jsonIds = jsonIds.filter(_id => {
                if (!remoteIds.includes(_id) || !mdIds.has(_id)) {
                    this.jsonBase.delete(_id);
                    return false;
                }
                return true;
            });
            mdIds.forEach((_id) => {
                if (!jsonIds.includes(_id)) {
                    this.mdBase.delete(this.mdBase.pathById(_id));
                    new obsidian.Notice(`Note ${_id} deleted`);
                    return false;
                }
                return true;
            });
            new obsidian.Notice('Base is up to date!');
        });
    }
    getCurrentFileID() {
        const activeFile = this.getCurrentFile();
        return this.mdBase.idByPath(activeFile.path);
    }
    getCurrentFile() {
        return this.ctx.app.workspace.getActiveFile();
    }
    saveCurrentFile() {
        return __awaiter(this, void 0, void 0, function* () {
            // Markdown file have changed -> save it to json format and upload to server
            if (this.ignoreModifyState) {
                return;
            }
            const activeFile = this.ctx.app.workspace.getActiveFile();
            const _id = this.getCurrentFileID();
            const text = yield this.mdBase.readCurrent(activeFile);
            const localBlock = (yield this.jsonBase.read(_id)) || {};
            const block = this.ctx.mdAdapter.toBlock(text, localBlock);
            // @ts-ignore
            try {
                const remoteBlock = yield this.ctx.api.uploadBlock(Object.assign(Object.assign({}, block), { _id: _id }));
                yield this.jsonBase.write(remoteBlock);
            }
            catch (e) {
                if (e.code === HTTP_CODE.GONE) {
                    new obsidian.Notice('This note was deleted in remote');
                    yield this.deleteCurrentFile();
                }
            }
        });
    }
    downloadFile(_id) {
        return __awaiter(this, void 0, void 0, function* () {
            // Update markdown file by data from server, loads if have not locally and update otherwise
            try {
                const block = yield this.ctx.api.downloadBlock(_id);
                yield this.saveBlockLocally(block);
            }
            catch (e) {
                if (e.code === HTTP_CODE.GONE) {
                    new obsidian.Notice('This file was deleted from remote');
                    yield this.mdBase.delete(this.mdBase.pathById(_id));
                }
            }
        });
    }
    createFile(initBlock, path) {
        return __awaiter(this, void 0, void 0, function* () {
            // Creates new file in storage and remote returns it path
            initBlock = Object.assign(Object.assign({}, Base.getDefaultBlock()), initBlock);
            const block = yield this.ctx.api.createBlock(initBlock);
            yield this.saveBlockLocally(block, path);
            return block;
        });
    }
    deleteCurrentFile() {
        return __awaiter(this, void 0, void 0, function* () {
            const path = this.ctx.app.workspace.getActiveFile().path;
            const _id = this.mdBase.idByPath(path);
            this.ignoreModifyState = true;
            yield this.mdBase.delete(path);
            yield this.jsonBase.delete(_id);
            this.ignoreModifyState = false;
            yield this.ctx.api.deleteBlock(_id);
        });
    }
    uploadCurrentFile() {
        return __awaiter(this, void 0, void 0, function* () {
            // File should not be in the base. This method copy file and uploads to remote
            const file = this.getCurrentFile();
            const text = yield this.mdBase.readCurrent(file);
            let parsedBlock = this.ctx.mdAdapter.toBlock(text, {});
            parsedBlock.create = Object.assign(Object.assign({}, parsedBlock.create), { filename: file.basename });
            if (!parsedBlock.title) {
                parsedBlock.title = capitalize(file.basename);
            }
            const block = yield this.createFile(parsedBlock);
            yield this.openFile(block._id);
            yield this.mdBase.delete(file.path);
        });
    }
    openFile(_id) {
        return __awaiter(this, void 0, void 0, function* () {
            const files = this.ctx.app.vault.getMarkdownFiles();
            const file = files.filter(file => this.mdBase.idByPath(file.path) === _id)[0];
            if (file) {
                yield this.ctx.app.workspace.activeLeaf.openFile(file);
            }
        });
    }
    static getDefaultBlock() {
        return {
            title: 'Title'
        };
    }
    checkFileStructure() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.mdBase.checkBaseFolder();
            yield this.jsonBase.checkBaseFolder();
        });
    }
    saveBlockLocally(block, path) {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.jsonBase.write(block);
            const text = this.ctx.mdAdapter.toMarkdown(block);
            const targetName = this.mdBase.nameFromBlock(block);
            const targetPath = this.mdBase.pathByName(targetName);
            this.ignoreModifyState = true;
            if (path && !(yield this.ctx.app.vault.adapter.exists(obsidian.normalizePath(targetPath)))) {
                yield this.ctx.app.vault.rename(this.ctx.app.vault.getAbstractFileByPath(path), targetPath);
            }
            yield this.mdBase.write(targetName, text);
            this.ignoreModifyState = false;
        });
    }
    blockByName(name) {
        return {
            title: capitalize(name),
            filename: name
        };
    }
    indexLocalFile(path) {
        return __awaiter(this, void 0, void 0, function* () {
            const name = this.mdBase.nameByPath(path);
            let _id = this.mdBase.idByName(name);
            if (_id) {
                const paths = this.mdBase.pathsById(_id);
                if (paths.length > 1) {
                    const block = yield this.jsonBase.read(_id);
                    this.ignoreModifyState = true;
                    yield this.mdBase.delete(paths.filter(filePath => filePath != path)[0]);
                    this.ignoreModifyState = false;
                    yield this.saveBlockLocally(block, path);
                    return;
                }
                const blocks = yield this.ctx.api.getBlocks([_id]);
                if (blocks.length === 1) {
                    yield this.saveBlockLocally(blocks[0], path);
                    return;
                }
            }
            yield this.createBlockFromFile(name);
        });
    }
}

const DEFAULT_SETTINGS = {
    triggerPhrase: '/',
    backendEntrypoint: 'http://netwik.fivol.space:5050'
};
class Netwik extends obsidian.Plugin {
    constructor() {
        super(...arguments);
        this.markdownPostProcessor = (el, ctx) => {
            const links = el.findAll('a.internal-link');
            for (let link of links) {
                const linkText = link.getText();
                if (linkText.contains('|')) {
                    continue;
                }
                if (this.ctx.base.mdBase.isControlledPath(`${linkText}.md`)) {
                    const match = linkText.match(/\/\w+\W(.+)/);
                    if (match) {
                        link.setText(match[1]);
                    }
                }
            }
        };
        this.protocolOpenHandler = (params) => {
            if (params.id) {
                const _id = params.id;
                this.ctx.base.downloadFile(_id).then(() => {
                    this.ctx.base.openFile(_id);
                });
            }
        };
        // Only for dev
        this.removeAllChangeHandlers = () => {
            this.app.workspace.iterateCodeMirrors(cm => {
                // @ts-ignore
                cm._handlers.change.map((handler) => {
                    cm.off('change', handler);
                });
            });
        };
        this.editorChangeHandler = (cmEditor, changeObj) => __awaiter(this, void 0, void 0, function* () {
            var _a;
            return (_a = this.autosuggest) === null || _a === void 0 ? void 0 : _a.update(cmEditor, changeObj);
        });
        this.setupChangeHandler = () => {
            this.autosuggest = new BlockSuggest(this.ctx);
            this.registerCodeMirror(cm => {
                cm.on('change', this.editorChangeHandler);
            });
        };
    }
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            const ctx = new Context();
            this.ctx = ctx;
            this.registerMarkdownPostProcessor(this.markdownPostProcessor);
            this.registerObsidianProtocolHandler('netwik', this.protocolOpenHandler);
            yield this.loadSettings();
            ctx.plugin = this;
            ctx.app = this.app;
            ctx.api = new API(this.ctx.settings.backendEntrypoint);
            ctx.mdAdapter = new MarkdownAdapter();
            ctx.base = new Base(this.ctx);
            this.addCommands();
            this.setupChangeHandler();
            this.addSettingTab(new SettingTab(this.app, this));
        });
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.ctx.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.restart();
            yield this.saveData(this.ctx.settings);
        });
    }
    onunload() {
        return __awaiter(this, void 0, void 0, function* () {
            this.registerCodeMirror((cm) => {
                cm.off("change", this.editorChangeHandler);
            });
            this.ctx.base.onunload();
        });
    }
    restart() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.onunload();
            yield this.onload();
        });
    }
    addCommands() {
        this.addCommand({
            id: 'delete-note',
            name: 'Delete remote note',
            callback: () => {
                let leaf = this.app.workspace.activeLeaf;
                const path = leaf.getViewState().state.file;
                if (!this.ctx.base.mdBase.isControlledPath(path)) {
                    new obsidian.Notice(`You can delete only files in "${this.ctx.base.mdBase.basePath}" folder by this command`);
                    return;
                }
                if (leaf.getViewState().type !== 'markdown') {
                    new obsidian.Notice('Can remove only markdown files');
                    return;
                }
                this.ctx.base.deleteCurrentFile();
            }
        });
        this.addCommand({
            id: 'create-note',
            name: 'Create note',
            callback: () => {
                this.ctx.base.createFile({}).then(block => this.ctx.base.openFile(block._id));
            }
        });
        this.addCommand({
            id: 'update-note',
            name: 'Update note',
            callback: () => {
                this.ctx.base.downloadFile(this.ctx.base.getCurrentFileID());
            }
        });
        this.addCommand({
            id: 'sync-base',
            name: 'Sync base',
            callback: () => {
                this.ctx.base.syncBase();
            }
        });
        this.addCommand({
            id: 'copy-url',
            name: 'Copy obsidian url',
            callback: () => {
                const file = this.app.workspace.getActiveFile();
                if (this.ctx.base.mdBase.isControlledPath(file.path)) {
                    const _id = this.ctx.base.mdBase.idByPath(file.path);
                    const url = `obsidian://netwik?id=${_id}`;
                    navigator.clipboard.writeText(url);
                    new obsidian.Notice('URL copied');
                }
            }
        });
        this.addCommand({
            id: 'upload-note',
            name: 'Upload current note',
            callback: () => {
                if (this.ctx.base.mdBase.isControlledPath(this.ctx.base.getCurrentFile().path)) {
                    new obsidian.Notice('Upload command should be used for notes in your local storage, this file already uploaded');
                    return;
                }
                this.ctx.base.uploadCurrentFile();
            }
        });
    }
}
class SettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        let { containerEl } = this;
        containerEl.empty();
        new obsidian.Setting(containerEl)
            .setName('Trigger symbol')
            .setDesc('Show suggestions after typing this')
            .addText(text => text
            .setValue(this.plugin.ctx.settings.triggerPhrase)
            .setPlaceholder('"@" by default')
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.ctx.settings.triggerPhrase = value || DEFAULT_SETTINGS.triggerPhrase;
            yield this.plugin.saveSettings();
        })));
        new obsidian.Setting(containerEl)
            .setName('Backend entrypoint')
            .setDesc('API entrypoint address')
            .addTextArea(text => text
            .setValue(this.plugin.ctx.settings.backendEntrypoint)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.ctx.settings.backendEntrypoint = value || DEFAULT_SETTINGS.backendEntrypoint;
            yield this.plugin.saveSettings();
        })));
    }
}

module.exports = Netwik;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsInNyYy9zdWdnZXN0L3N1Z2dlc3QudHMiLCJzcmMvc3VnZ2VzdC9jb2RlbWlycm9yLXN1Z2dlc3QudHMiLCJzcmMvc3VnZ2VzdC9ibG9jay1zdWdnZXN0LnRzIiwic3JjL2NvbnRleHQudHMiLCJzcmMvYXBpLnRzIiwic3JjL21kQWRhcHRlci50cyIsInNyYy9iYXNlL21kLnRzIiwic3JjL2Jhc2UvanNvbi50cyIsInNyYy91dGlscy50cyIsInNyYy9iYXNlLnRzIiwic3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOm51bGwsIm5hbWVzIjpbIlNjb3BlIiwibm9ybWFsaXplUGF0aCIsIk5vdGljZSIsIlBsdWdpbiIsIlBsdWdpblNldHRpbmdUYWIiLCJTZXR0aW5nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdURBO0FBQ08sU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLFVBQVUsRUFBRSxDQUFDLEVBQUUsU0FBUyxFQUFFO0FBQzdELElBQUksU0FBUyxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsT0FBTyxLQUFLLFlBQVksQ0FBQyxHQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsQ0FBQyxVQUFVLE9BQU8sRUFBRSxFQUFFLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFO0FBQ2hILElBQUksT0FBTyxLQUFLLENBQUMsS0FBSyxDQUFDLEdBQUcsT0FBTyxDQUFDLEVBQUUsVUFBVSxPQUFPLEVBQUUsTUFBTSxFQUFFO0FBQy9ELFFBQVEsU0FBUyxTQUFTLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsRUFBRSxD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
